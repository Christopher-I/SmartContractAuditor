{"version":3,"file":"web3-core-promievent.umd.js","sources":["../src/PromiEvent.js","../src/index.js"],"sourcesContent":["/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file PromiEvent.js\n * @author Samuel Furter <samuel@ethereum.org>\n * @date 2018\n */\n\nimport EventEmitter from 'eventemitter3';\n\nexport default class PromiEvent {\n    /**\n     * @constructor\n     */\n    constructor() {\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n\n        this.eventEmitter = new EventEmitter();\n\n        return new Proxy(this, {\n            get: this.proxyHandler\n        });\n    }\n\n    /**\n     * Proxy handler to call the promise or eventEmitter methods\n     *\n     * @method proxyHandler\n     *\n     * @param {PromiEvent} target\n     * @param {String} name\n     *\n     * @returns {Function}\n     */\n    proxyHandler(target, name) {\n        if (name === 'resolve' || name === 'reject') {\n            return target[name];\n        }\n\n        if (this.promise[name]) {\n            return target.promise[name];\n        }\n\n        if (this.eventEmitter[name]) {\n            return target.eventEmitter[name];\n        }\n\n        throw new Error(`Method with name ${name} not found`);\n    }\n}\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file index.js\n * @author Samuel Furter <samuel@ethereum.org>\n * @date 2018\n */\n\nexport PromiEvent from './PromiEvent';\n"],"names":["PromiEvent","constructor","promise","Promise","resolve","reject","eventEmitter","EventEmitter","Proxy","get","proxyHandler","target","name","Error"],"mappings":";;;;;;;;IAAA;;;;;;;;;;;;;;;;IAwBe,MAAMA,UAAN,CAAiB;IAC5B;;;IAGAC,EAAAA,WAAW,GAAG;IACV,SAAKC,OAAL,GAAe,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IAC5C,WAAKD,OAAL,GAAeA,OAAf;IACA,WAAKC,MAAL,GAAcA,MAAd;IACH,KAHc,CAAf;IAKA,SAAKC,YAAL,GAAoB,IAAIC,YAAJ,EAApB;IAEA,WAAO,IAAIC,KAAJ,CAAU,IAAV,EAAgB;IACnBC,MAAAA,GAAG,EAAE,KAAKC;IADS,KAAhB,CAAP;IAGH;IAED;;;;;;;;;;;;IAUAA,EAAAA,YAAY,CAACC,MAAD,EAASC,IAAT,EAAe;IACvB,QAAIA,IAAI,KAAK,SAAT,IAAsBA,IAAI,KAAK,QAAnC,EAA6C;IACzC,aAAOD,MAAM,CAACC,IAAD,CAAb;IACH;;IAED,QAAI,KAAKV,OAAL,CAAaU,IAAb,CAAJ,EAAwB;IACpB,aAAOD,MAAM,CAACT,OAAP,CAAeU,IAAf,CAAP;IACH;;IAED,QAAI,KAAKN,YAAL,CAAkBM,IAAlB,CAAJ,EAA6B;IACzB,aAAOD,MAAM,CAACL,YAAP,CAAoBM,IAApB,CAAP;IACH;;IAED,UAAM,IAAIC,KAAJ,CAAW,oBAAmBD,IAAK,YAAnC,CAAN;IACH;;IAzC2B;;ICxBhC;;;;;;;;;;;;;;;;;;;;;;;;;;;"}