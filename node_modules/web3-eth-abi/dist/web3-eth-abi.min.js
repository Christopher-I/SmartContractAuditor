(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("underscore")):"function"==typeof define&&define.amd?define(["exports","underscore"],t):t(e.Web3EthAbi={},e.underscore)})(this,function(e,t){"use strict";var ce=Math.ceil,ge=String.fromCharCode,he=Math.min,fe=Math.floor,ye=Math.log,me=Math.pow;function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e,t){return t={exports:{}},e(t,t.exports),t.exports}function d(){Ae=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)we[t]=e[t],_e[e.charCodeAt(t)]=t;_e[45]=62,_e[95]=63}function l(e){Ae||d();var t,n,r,o,s,a,u=e.length;if(0<u%4)throw new Error("Invalid string. Length must be a multiple of 4");s="="===e[u-2]?2:"="===e[u-1]?1:0,a=new Ne(3*u/4-s),r=0<s?u-4:u;var p=0;for(t=0,n=0;t<r;t+=4,n+=3)o=_e[e.charCodeAt(t)]<<18|_e[e.charCodeAt(t+1)]<<12|_e[e.charCodeAt(t+2)]<<6|_e[e.charCodeAt(t+3)],a[p++]=255&o>>16,a[p++]=255&o>>8,a[p++]=255&o;return 2===s?(o=_e[e.charCodeAt(t)]<<2|_e[e.charCodeAt(t+1)]>>4,a[p++]=255&o):1==s&&(o=_e[e.charCodeAt(t)]<<10|_e[e.charCodeAt(t+1)]<<4|_e[e.charCodeAt(t+2)]>>2,a[p++]=255&o>>8,a[p++]=255&o),a}function u(e){return we[63&e>>18]+we[63&e>>12]+we[63&e>>6]+we[63&e]}function p(e,t,n){for(var r,o=[],s=t;s<n;s+=3)r=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(u(r));return o.join("")}function c(e){Ae||d();for(var t,n=e.length,r=n%3,o="",s=[],a=16383,l=0,u=n-r;l<u;l+=a)s.push(p(e,l,l+a>u?u:l+a));return 1===r?(t=e[n-1],o+=we[t>>2],o+=we[63&t<<4],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=we[t>>10],o+=we[63&t>>4],o+=we[63&t<<2],o+="="),s.push(o),s.join("")}function g(t,n,r,o,a){var l,u,p=8*a-o-1,c=(1<<p)-1,g=c>>1,h=-7,f=r?a-1:0,y=r?-1:1,d=t[n+f];for(f+=y,l=d&(1<<-h)-1,d>>=-h,h+=p;0<h;l=256*l+t[n+f],f+=y,h-=8);for(u=l&(1<<-h)-1,l>>=-h,h+=o;0<h;u=256*u+t[n+f],f+=y,h-=8);if(0===l)l=1-g;else{if(l===c)return u?NaN:(d?-1:1)*(1/0);u+=me(2,o),l-=g}return(d?-1:1)*u*me(2,l-o)}function h(t,n,r,o,a,l){var g,h,f,u=Math.LN2,p=Math.abs,y=8*l-a-1,v=(1<<y)-1,b=v>>1,w=23===a?me(2,-24)-me(2,-77):0,_=o?0:l-1,N=o?1:-1,d=0>n||0===n&&0>1/n?1:0;for(n=p(n),isNaN(n)||n===1/0?(h=isNaN(n)?1:0,g=v):(g=fe(ye(n)/u),1>n*(f=me(2,-g))&&(g--,f*=2),n+=1<=g+b?w/f:w*me(2,1-b),2<=n*f&&(g++,f/=2),g+b>=v?(h=0,g=v):1<=g+b?(h=(n*f-1)*me(2,a),g+=b):(h=n*me(2,b-1)*me(2,a),g=0));8<=a;t[r+_]=255&h,_+=N,h/=256,a-=8);for(g=g<<a|h,y+=a;0<y;t[r+_]=255&g,_+=N,g/=256,y-=8);t[r+_-N]|=128*d}function f(){return m.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(e,t){if(f()<t)throw new RangeError("Invalid typed array length");return m.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=m.prototype):(null===e&&(e=new m(t)),e.length=t),e}function m(e,t,n){if(!m.TYPED_ARRAY_SUPPORT&&!(this instanceof m))return new m(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return _(this,e)}return v(this,e,t,n)}function v(e,t,n,r){if("number"==typeof t)throw new TypeError("\"value\" argument must not be a number");return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?E(e,t,n,r):"string"==typeof t?N(e,t,n):x(e,t)}function b(e){if("number"!=typeof e)throw new TypeError("\"size\" argument must be a number");else if(0>e)throw new RangeError("\"size\" argument must not be negative")}function w(e,t,n,r){return b(t),0>=t?y(e,t):void 0===n?y(e,t):"string"==typeof r?y(e,t).fill(n,r):y(e,t).fill(n)}function _(e,t){if(b(t),e=y(e,0>t?0:0|T(t)),!m.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function N(e,t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!m.isEncoding(n))throw new TypeError("\"encoding\" must be a valid string encoding");var r=0|R(t,n);e=y(e,r);var o=e.write(t,n);return o!==r&&(e=e.slice(0,o)),e}function A(e,t){var n=0>t.length?0:0|T(t.length);e=y(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function E(e,t,n,r){if(t.byteLength,0>n||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),m.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=m.prototype):e=A(e,t),e}function x(e,t){if(I(t)){var n=0|T(t.length);return(e=y(e,n),0===e.length)?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||ae(t.length)?y(e,0):A(e,t);if("Buffer"===t.type&&xe(t.data))return A(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function T(e){if(e>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|e}function I(e){return!!(null!=e&&e._isBuffer)}function R(e,t){if(I(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return ne(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return ie(e).length;default:if(r)return ne(e).length;t=(""+t).toLowerCase(),r=!0;}}function S(e,t,n){var r=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return Y(this,t,n);case"utf8":case"utf-8":return G(this,t,n);case"ascii":return V(this,t,n);case"latin1":case"binary":return Z(this,t,n);case"base64":return j(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0;}}function P(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function U(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(0>n)if(o)n=0;else return-1;if("string"==typeof t&&(t=m.from(t,r)),I(t))return 0===t.length?-1:k(e,t,n,r,o);if("number"==typeof t)return t&=255,m.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):k(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function k(e,t,n,r,o){function s(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,d=e.length,l=t.length;if(void 0!==r&&(r=(r+"").toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(2>e.length||2>t.length)return-1;a=2,d/=2,l/=2,n/=2}var u;if(o){var p=-1;for(u=n;u<d;u++)if(s(e,u)!==s(t,-1===p?0:u-p))-1!==p&&(u-=u-p),p=-1;else if(-1===p&&(p=u),u-p+1===l)return p*a}else for(n+l>d&&(n=d-l),u=n;0<=u;u--){for(var c=!0,g=0;g<l;g++)if(s(e,u+g)!==s(t,g)){c=!1;break}if(c)return u}return-1}function O(e,t,n,r){n=+n||0;var o=e.length-n;r?(r=+r,r>o&&(r=o)):r=o;var s=t.length;if(0!=s%2)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var a,d=0;d<r;++d){if(a=parseInt(t.substr(2*d,2),16),isNaN(a))return d;e[n+d]=a}return d}function C(e,t,n,r){return se(ne(t,e.length-n),e,n,r)}function L(e,t,n,r){return se(re(t),e,n,r)}function B(e,t,n,r){return L(e,t,n,r)}function M(e,t,n,r){return se(ie(t),e,n,r)}function D(e,t,n,r){return se(oe(t,e.length-n),e,n,r)}function j(e,t,n){return 0===t&&n===e.length?c(e):c(e.slice(t,n))}function G(e,t,n){n=he(e.length,n);for(var r=[],o=t;o<n;){var s=e[o],a=null,d=239<s?4:223<s?3:191<s?2:1;if(o+d<=n){var l,u,p,c;1===d?128>s&&(a=s):2===d?(l=e[o+1],128==(192&l)&&(c=(31&s)<<6|63&l,127<c&&(a=c))):3===d?(l=e[o+1],u=e[o+2],128==(192&l)&&128==(192&u)&&(c=(15&s)<<12|(63&l)<<6|63&u,2047<c&&(55296>c||57343<c)&&(a=c))):4===d?(l=e[o+1],u=e[o+2],p=e[o+3],128==(192&l)&&128==(192&u)&&128==(192&p)&&(c=(15&s)<<18|(63&l)<<12|(63&u)<<6|63&p,65535<c&&1114112>c&&(a=c))):void 0}null===a?(a=65533,d=1):65535<a&&(a-=65536,r.push(55296|1023&a>>>10),a=56320|1023&a),r.push(a),o+=d}return F(r)}function F(e){var t=e.length;if(t<=4096)return ge.apply(String,e);for(var n="",r=0;r<t;)n+=ge.apply(String,e.slice(r,r+=4096));return n}function V(e,t,n){var r="";n=he(e.length,n);for(var o=t;o<n;++o)r+=ge(127&e[o]);return r}function Z(e,t,n){var r="";n=he(e.length,n);for(var o=t;o<n;++o)r+=ge(e[o]);return r}function Y(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var o="",s=t;s<n;++s)o+=te(e[s]);return o}function z(e,t,n){for(var r=e.slice(t,n),o="",s=0;s<r.length;s+=2)o+=ge(r[s]+256*r[s+1]);return o}function H(e,t,n){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function W(e,t,n,r,o,i){if(!I(e))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(t>o||t<i)throw new RangeError("\"value\" argument is out of bounds");if(n+r>e.length)throw new RangeError("Index out of range")}function q(e,t,n,r){0>t&&(t=65535+t+1);for(var o=0,s=he(e.length-n,2);o<s;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function X(e,t,n,r){0>t&&(t=4294967295+t+1);for(var o=0,s=he(e.length-n,4);o<s;++o)e[n+o]=255&t>>>8*(r?o:3-o)}function K(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function J(e,t,n,r,o){return o||K(e,t,n,4,34028234663852886e22,-34028234663852886e22),h(e,t,n,r,23,4),n+4}function Q(e,t,n,r,o){return o||K(e,t,n,8,17976931348623157e292,-17976931348623157e292),h(e,t,n,r,52,8),n+8}function $(e){if(e=ee(e).replace(Re,""),2>e.length)return"";for(;0!=e.length%4;)e+="=";return e}function ee(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function te(e){return 16>e?"0"+e.toString(16):e.toString(16)}function ne(e,t){t=t||1/0;for(var n,r=e.length,o=null,s=[],a=0;a<r;++a){if(n=e.charCodeAt(a),55295<n&&57344>n){if(!o){if(56319<n){-1<(t-=3)&&s.push(239,191,189);continue}else if(a+1===r){-1<(t-=3)&&s.push(239,191,189);continue}o=n;continue}if(56320>n){-1<(t-=3)&&s.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&-1<(t-=3)&&s.push(239,191,189);if(o=null,128>n){if(0>(t-=1))break;s.push(n)}else if(2048>n){if(0>(t-=2))break;s.push(192|n>>6,128|63&n)}else if(65536>n){if(0>(t-=3))break;s.push(224|n>>12,128|63&n>>6,128|63&n)}else if(1114112>n){if(0>(t-=4))break;s.push(240|n>>18,128|63&n>>12,128|63&n>>6,128|63&n)}else throw new Error("Invalid code point")}return s}function re(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function oe(e,t){for(var n,r,o,s=[],a=0;a<e.length&&!(0>(t-=2));++a)n=e.charCodeAt(a),r=n>>8,o=n%256,s.push(o),s.push(r);return s}function ie(e){return l($(e))}function se(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function ae(e){return e!==e}function de(e){return null!=e&&(!!e._isBuffer||le(e)||ue(e))}function le(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function ue(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&le(e.slice(0,0))}function pe(){}(function(t,r){"object"===("undefined"==typeof e?"undefined":n(e))&&"undefined"!=typeof module?r(e,require("underscore-es/isFunction"),require("underscore-es/isNull"),require("underscore-es/isUndefined"),require("underscore-es/isBoolean"),require("underscore-es/isString"),require("underscore-es/isNumber"),require("number-to-bn"),require("utf8"),require("eth-lib/lib/hash"),require("underscore-es/isArray"),require("underscore-es/isObject"),require("underscore-es/map"),require("bn.js"),require("randomhex")):"function"==typeof define&&define.amd?define(["exports","underscore-es/isFunction","underscore-es/isNull","underscore-es/isUndefined","underscore-es/isBoolean","underscore-es/isString","underscore-es/isNumber","number-to-bn","utf8","eth-lib/lib/hash","underscore-es/isArray","underscore-es/isObject","underscore-es/map","bn.js","randomhex"],r):r(t.Web3Utils={},t.isFunction,t.isNull,t.isUndefined,t.isBoolean,t.isString,t.isNumber,t.numberToBN,t.utf8,t.Hash,t.isArray,t.isObject,t.map,t.BN$1,t.randomhex)})(void 0,function(e,t,r,o,i,s,a,d,u,p,c,g,h,f,y){function m(e){return m="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},m(e)}t=t&&t.hasOwnProperty("default")?t["default"]:t,r=r&&r.hasOwnProperty("default")?r["default"]:r,o=o&&o.hasOwnProperty("default")?o["default"]:o,i=i&&i.hasOwnProperty("default")?i["default"]:i,s=s&&s.hasOwnProperty("default")?s["default"]:s,a=a&&a.hasOwnProperty("default")?a["default"]:a,d=d&&d.hasOwnProperty("default")?d["default"]:d,u=u&&u.hasOwnProperty("default")?u["default"]:u,p=p&&p.hasOwnProperty("default")?p["default"]:p,c=c&&c.hasOwnProperty("default")?c["default"]:c,g=g&&g.hasOwnProperty("default")?g["default"]:g,h=h&&h.hasOwnProperty("default")?h["default"]:h,f=f&&f.hasOwnProperty("default")?f["default"]:f,y=y&&y.hasOwnProperty("default")?y["default"]:y;var v=function(e){return e instanceof BN||e&&e.constructor&&"BN"===e.constructor.name},b=function(e){return e&&e.constructor&&"BigNumber"===e.constructor.name},w=function(e){try{return d(e)}catch(t){throw new Error("".concat(t," Given value: \"").concat(e,"\""))}},_=function(e){return!!/^(0x)?[0-9a-f]{40}$/i.test(e)&&(!!(/^(0x|0X)?[0-9a-f]{40}$/.test(e)||/^(0x|0X)?[0-9A-F]{40}$/.test(e))||N(e))},N=function(e){e=e.replace(/^0x/i,"");for(var t=O(e.toLowerCase()).replace(/^0x/i,""),n=0;40>n;n++)if(7<parseInt(t[n],16)&&e[n].toUpperCase()!==e[n]||7>=parseInt(t[n],16)&&e[n].toLowerCase()!==e[n])return!1;return!0},A=function(e,t,n){var r=/^0x/i.test(e)||"number"==typeof e;e=e.toString(16).replace(/^0x/i,"");var o=0<=t-e.length+1?t-e.length+1:0;return(r?"0x":"")+Array(o).join(n||"0")+e},E=function(e,t,n){var r=/^0x/i.test(e)||"number"==typeof e;e=e.toString(16).replace(/^0x/i,"");var o=0<=t-e.length+1?t-e.length+1:0;return(r?"0x":"")+e+Array(o).join(n||"0")},x=function(e){e=u.encode(e);var t="";e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join("");for(var r=0;r<e.length;r++){var o=e.charCodeAt(r),s=o.toString(16);t+=2>s.length?"0".concat(s):s}return"0x".concat(t)},T=function(e){if(!U(e))throw new Error("The parameter \"".concat(e,"\" must be a valid HEX string."));var t="",n=0;e=e.replace(/^0x/i,""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join("");for(var r=e.length,o=0;o<r;o+=2)n=parseInt(e.substr(o,2),16),t+=ge(n);return u.decode(t)},I=function(e){return e?w(e).toNumber():e},R=function(e){if(r(e)||o(e))return e;if(!isFinite(e)&&!U(e))throw new Error("Given input \"".concat(e,"\" is not a number."));var t=w(e),n=t.toString(16);return t.lt(new BN(0))?"-0x".concat(n.substr(1)):"0x".concat(n)},S=function(e){if(e=e.toString(16),!U(e))throw new Error("Given value \"".concat(e,"\" is not a valid hex string."));e=e.replace(/^0x/i,"");for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},P=function(e,t){if(_(e))return t?"address":"0x".concat(e.toLowerCase().replace(/^0x/i,""));if(i(e))return t?"bool":e?"0x01":"0x00";if(g(e)&&!b(e)&&!v(e))return t?"string":x(JSON.stringify(e));if(s(e)){if(0===e.indexOf("-0x")||0===e.indexOf("-0X"))return t?"int256":R(e);if(0===e.indexOf("0x")||0===e.indexOf("0X"))return t?"bytes":e;if(!isFinite(e))return t?"string":x(e)}return t?0>e?"int256":"uint256":R(e)},U=function(e){return(s(e)||a(e))&&/^(-)?0x[0-9a-f]*$/i.test(e)},k=function(e){return(s(e)||a(e))&&/^(-0x|0x)?[0-9a-f]*$/i.test(e)},O=function(e){U(e)&&/^0x/i.test(e.toString())&&(e=S(e));var t=p.keccak256(e);return t==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"?null:t};O._Hash=p;var C=function(e){return e.startsWith("int[")?"int256".concat(e.slice(3)):"int"===e?"int256":e.startsWith("uint[")?"uint256".concat(e.slice(4)):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128".concat(e.slice(5)):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128".concat(e.slice(6)):"ufixed"===e?"ufixed128x128":e},L=function(e){var t=/^\D+(\d+).*$/.exec(e);return t?parseInt(t[1],10):null},B=function(e){var t=/^\D+\d*\[(\d+)\]$/.exec(e);return t?parseInt(t[1],10):null},M=function(e){var t=m(e);if("string"===t)return U(e)?new f(e.replace(/0x/i,""),16):new f(e,10);if("number"===t)return new f(e);if(b(e))return new f(e.toString(10));if(v(e))return e;throw new Error("".concat(e," is not a number"))},D=function(e,t,n){var r,o;if(e=C(e),"bytes"===e){if(0!=t.replace(/^0x/i,"").length%2)throw new Error("Invalid bytes characters ".concat(t.length));return t}if("string"===e)return x(t);if("bool"===e)return t?"01":"00";if(e.startsWith("address")){if(r=n?64:40,!_(t))throw new Error("".concat(t," is not a valid address, or the checksum is invalid."));return A(t.toLowerCase(),r)}if(r=L(e),e.startsWith("bytes")){if(!r)throw new Error("bytes[] not yet supported in solidity");if(n&&(r=32),1>r||32<r||r<t.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes".concat(r," for ").concat(t));return E(t,2*r)}if(e.startsWith("uint")){if(r%8||8>r||256<r)throw new Error("Invalid uint".concat(r," size"));if(o=M(t),o.bitLength()>r)throw new Error("Supplied uint exceeds width: ".concat(r," vs ").concat(o.bitLength()));if(o.lt(new f(0)))throw new Error("Supplied uint ".concat(o.toString()," is negative"));return r?A(o.toString("hex"),2*(r/8)):o}if(e.startsWith("int")){if(r%8||8>r||256<r)throw new Error("Invalid int".concat(r," size"));if(o=M(t),o.bitLength()>r)throw new Error("Supplied int exceeds width: ".concat(r," vs ").concat(o.bitLength()));return o.lt(new f(0))?o.toTwos(r).toString("hex"):r?A(o.toString("hex"),2*(r/8)):o}throw new Error("Unsupported or invalid type: ".concat(e))},j=function(e){if(c(e))throw new Error("Autodetection of array types is not supported.");var t,n,r,o="";if(g(e)&&(e.hasOwnProperty("v")||e.hasOwnProperty("t")||e.hasOwnProperty("value")||e.hasOwnProperty("type"))?(t=e.hasOwnProperty("t")?e.t:e.type,o=e.hasOwnProperty("v")?e.v:e.value):(t=P(e,!0),o=P(e),!t.startsWith("int")&&!t.startsWith("uint")&&(t="bytes")),(t.startsWith("int")||t.startsWith("uint"))&&"string"==typeof o&&!/^(-)?0x/i.test(o)&&(o=new f(o)),c(o))if(r=B(t),r&&o.length!==r)throw new Error("".concat(t," is not matching the given array ").concat(JSON.stringify(o)));else r=o.length;return c(o)?(n=o.map(function(e){return D(t,e,r).toString("hex").replace("0x","")}),n.join("")):(n=D(t,o,r),n.toString("hex").replace("0x",""))},G=function(){var e=Array.prototype.slice.call(arguments),t=h(e,j);return O("0x".concat(t.join("")))},F={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"},V=function(e,n,r,o){return g(e)&&!(e instanceof Error)&&e.data&&((g(e.data)||c(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e="".concat(e.message,"\n").concat(e.data)),s(e)&&(e=new Error(e)),t(o)&&o(e),t(r)&&((n&&t(n.listeners)&&0<n.listeners("error").length||t(o))&&n.catch(function(){}),setTimeout(function(){r(e)},1)),n&&t(n.emit)&&setTimeout(function(){n.emit("error",e),n.removeAllListeners()},1),n},Z=function(e){return g(e)&&e.name&&-1!==e.name.indexOf("(")?e.name:"".concat(e.name,"(").concat(Y(!1,e.inputs).join(","),")")},Y=function e(t,n){var r=[];return n.forEach(function(n){if("object"===m(n.components)){if("tuple"!==n.type.substring(0,5))throw new Error("components found but type is not tuple; report on GitHub");var o="",i=n.type.indexOf("[");0<=i&&(o=n.type.substring(i));var s=e(t,n.components);c(s)&&t?r.push("tuple(".concat(s.join(","),")").concat(o)):t?r.push("(".concat(s,")")):r.push("(".concat(s.join(","),")").concat(o))}else r.push(n.type)}),r},z=function(e){if(!U(e))throw new Error("The parameter must be a valid HEX string.");var t="",n=0,r=e.length;for("0x"===e.substring(0,2)&&(n=2);n<r;n+=2){var o=parseInt(e.substr(n,2),16);t+=ge(o)}return t},H=function(e){if(!e)return"0x00";for(var t="",r=0;r<e.length;r++){var o=e.charCodeAt(r),s=o.toString(16);t+=2>s.length?"0".concat(s):s}return"0x".concat(t)},W=function(e){if(e=e?e.toLowerCase():"ether",!F[e])throw new Error("This unit \"".concat(e,"\" doesn't exist, please use the one of the following units").concat(JSON.stringify(F,null,2)));return e},q=function(e,t){if(t=W(t),!v(e)&&!s(e))throw new Error("Please pass numbers as strings or BigNumber objects to avoid precision errors.");return v(e)?ethjsUnit.fromWei(e,t):ethjsUnit.fromWei(e,t).toString(10)},X=function(e,t){if(t=W(t),!v(e)&&!s(e))throw new Error("Please pass numbers as strings or BigNumber objects to avoid precision errors.");return v(e)?ethjsUnit.toWei(e,t):ethjsUnit.toWei(e,t).toString(10)};e.randomHex=y,e.unitMap=F,e._fireError=V,e._jsonInterfaceMethodToString=Z,e._flattenTypes=Y,e.hexToAscii=z,e.asciiToHex=H,e.getUnitValue=W,e.fromWei=q,e.toWei=X,e.toChecksumAddress=function(e){if("undefined"==typeof e)return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error("Given address \"".concat(e,"\" is not a valid Ethereum address."));e=e.toLowerCase().replace(/^0x/i,"");for(var t=O(e).replace(/^0x/i,""),n="0x",r=0;r<e.length;r++)n+=7<parseInt(t[r],16)?e[r].toUpperCase():e[r];return n},e.keccak256=O,e.toDecimal=I,e.fromDecimal=R,e.hexToString=T,e.toUtf8=T,e.stringToHex=x,e.fromUtf8=x,e.toAscii=z,e.fromAscii=H,e.padLeft=A,e.padRight=E,e.soliditySha3=G,e.isBN=v,e.isBigNumber=b,e.toBN=w,e.toTwosComplement=function(e){return"0x".concat(w(e).toTwos(256).toString(16,64))},e.isAddress=_,e.checkAddressChecksum=N,e.leftPad=A,e.rightPad=E,e.utf8ToHex=x,e.hexToUtf8=T,e.hexToNumber=I,e.hexToNumberString=function(e){return e?w(e).toString(10):e},e.numberToHex=R,e.bytesToHex=function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return"0x".concat(t.join(""))},e.hexToBytes=S,e.toHex=P,e.isHexStrict=U,e.isHex=k,e.isBloom=function(e){if(!/^(0x)?[0-9a-f]{512}$/i.test(e))return!1;return!!(/^(0x)?[0-9a-f]{512}$/.test(e)||/^(0x)?[0-9A-F]{512}$/.test(e))},e.isTopic=function(e){if(!/^(0x)?[0-9a-f]{64}$/i.test(e))return!1;return!!(/^(0x)?[0-9a-f]{64}$/.test(e)||/^(0x)?[0-9A-F]{64}$/.test(e))},e.sha3=O,Object.defineProperty(e,"__esModule",{value:!0})});var ve=Object.freeze({}),be="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window,we=[],_e=[],Ne="undefined"==typeof Uint8Array?Array:Uint8Array,Ae=!1,Ee={}.toString,xe=Array.isArray||function(e){return"[object Array]"==Ee.call(e)},Te=50;m.TYPED_ARRAY_SUPPORT=!(global.TYPED_ARRAY_SUPPORT!==void 0)||global.TYPED_ARRAY_SUPPORT;var Ie=f();m.poolSize=8192,m._augment=function(e){return e.__proto__=m.prototype,e},m.from=function(e,t,n){return v(null,e,t,n)},m.TYPED_ARRAY_SUPPORT&&(m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array),m.alloc=function(e,t,n){return w(null,e,t,n)},m.allocUnsafe=function(e){return _(null,e)},m.allocUnsafeSlow=function(e){return _(null,e)},m.isBuffer=de,m.compare=function(e,t){if(!I(e)||!I(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=he(n,r);o<s;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},m.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},m.concat=function(e,t){if(!xe(e))throw new TypeError("\"list\" argument must be an Array of Buffers");if(0===e.length)return m.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=m.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!I(s))throw new TypeError("\"list\" argument must be an Array of Buffers");s.copy(r,o),o+=s.length}return r},m.byteLength=R,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)P(this,t,t+1);return this},m.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)P(this,t,t+3),P(this,t+1,t+2);return this},m.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)P(this,t,t+7),P(this,t+1,t+6),P(this,t+2,t+5),P(this,t+3,t+4);return this},m.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?G(this,0,e):S.apply(this,arguments)},m.prototype.equals=function(e){if(!I(e))throw new TypeError("Argument must be a Buffer");return this===e||0===m.compare(this,e)},m.prototype.inspect=function(){var e="",t=Te;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},m.prototype.compare=function(e,t,n,r,o){if(!I(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),0>t||n>e.length||0>r||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var s=o-r,a=n-t,d=he(s,a),l=this.slice(r,o),u=e.slice(t,n),p=0;p<d;++p)if(l[p]!==u[p]){s=l[p],a=u[p];break}return s<a?-1:a<s?1:0},m.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},m.prototype.indexOf=function(e,t,n){return U(this,e,t,n,!0)},m.prototype.lastIndexOf=function(e,t,n){return U(this,e,t,n,!1)},m.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((void 0===n||n>o)&&(n=o),0<e.length&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return O(this,e,t,n);case"utf8":case"utf-8":return C(this,e,t,n);case"ascii":return L(this,e,t,n);case"latin1":case"binary":return B(this,e,t,n);case"base64":return M(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0;}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};m.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r;if(m.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=m.prototype;else{var o=t-e;r=new m(o,void 0);for(var s=0;s<o;++s)r[s]=this[s+e]}return r},m.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||H(e,t,this.length);for(var r=this[e],o=1,s=0;++s<t&&(o*=256);)r+=this[e+s]*o;return r},m.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||H(e,t,this.length);for(var r=this[e+--t],o=1;0<t&&(o*=256);)r+=this[e+--t]*o;return r},m.prototype.readUInt8=function(e,t){return t||H(e,1,this.length),this[e]},m.prototype.readUInt16LE=function(e,t){return t||H(e,2,this.length),this[e]|this[e+1]<<8},m.prototype.readUInt16BE=function(e,t){return t||H(e,2,this.length),this[e]<<8|this[e+1]},m.prototype.readUInt32LE=function(e,t){return t||H(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},m.prototype.readUInt32BE=function(e,t){return t||H(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},m.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||H(e,t,this.length);for(var r=this[e],o=1,s=0;++s<t&&(o*=256);)r+=this[e+s]*o;return o*=128,r>=o&&(r-=me(2,8*t)),r},m.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||H(e,t,this.length);for(var r=t,o=1,s=this[e+--r];0<r&&(o*=256);)s+=this[e+--r]*o;return o*=128,s>=o&&(s-=me(2,8*t)),s},m.prototype.readInt8=function(e,t){return t||H(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},m.prototype.readInt16LE=function(e,t){t||H(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},m.prototype.readInt16BE=function(e,t){t||H(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},m.prototype.readInt32LE=function(e,t){return t||H(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},m.prototype.readInt32BE=function(e,t){return t||H(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},m.prototype.readFloatLE=function(e,t){return t||H(e,4,this.length),g(this,e,!0,23,4)},m.prototype.readFloatBE=function(e,t){return t||H(e,4,this.length),g(this,e,!1,23,4)},m.prototype.readDoubleLE=function(e,t){return t||H(e,8,this.length),g(this,e,!0,52,8)},m.prototype.readDoubleBE=function(e,t){return t||H(e,8,this.length),g(this,e,!1,52,8)},m.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var o=me(2,8*n)-1;W(this,e,t,n,o,0)}var s=1,a=0;for(this[t]=255&e;++a<n&&(s*=256);)this[t+a]=255&e/s;return t+n},m.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var o=me(2,8*n)-1;W(this,e,t,n,o,0)}var s=n-1,a=1;for(this[t+s]=255&e;0<=--s&&(a*=256);)this[t+s]=255&e/a;return t+n},m.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,1,255,0),m.TYPED_ARRAY_SUPPORT||(e=fe(e)),this[t]=255&e,t+1},m.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},m.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},m.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):X(this,e,t,!0),t+4},m.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):X(this,e,t,!1),t+4},m.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=me(2,8*n-1);W(this,e,t,n,o-1,-o)}var s=0,a=1,d=0;for(this[t]=255&e;++s<n&&(a*=256);)0>e&&0===d&&0!==this[t+s-1]&&(d=1),this[t+s]=255&(e/a>>0)-d;return t+n},m.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=me(2,8*n-1);W(this,e,t,n,o-1,-o)}var s=n-1,a=1,d=0;for(this[t+s]=255&e;0<=--s&&(a*=256);)0>e&&0===d&&0!==this[t+s+1]&&(d=1),this[t+s]=255&(e/a>>0)-d;return t+n},m.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,1,127,-128),m.TYPED_ARRAY_SUPPORT||(e=fe(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},m.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},m.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},m.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,4,2147483647,-2147483648),m.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):X(this,e,t,!0),t+4},m.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),m.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):X(this,e,t,!1),t+4},m.prototype.writeFloatLE=function(e,t,n){return J(this,e,t,!0,n)},m.prototype.writeFloatBE=function(e,t,n){return J(this,e,t,!1,n)},m.prototype.writeDoubleLE=function(e,t,n){return Q(this,e,t,!0,n)},m.prototype.writeDoubleBE=function(e,t,n){return Q(this,e,t,!1,n)},m.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,s=r-n;if(this===e&&n<t&&t<r)for(o=s-1;0<=o;--o)e[o+t]=this[o+n];else if(1e3>s||!m.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},m.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);256>o&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!m.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=I(e)?e:ne(new m(e,r).toString()),d=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%d]}return this};var Re=/[^+\/0-9A-Za-z-_]/g,Se=Object.freeze({INSPECT_MAX_BYTES:Te,kMaxLength:Ie,Buffer:m,SlowBuffer:function(e){return+e!=e&&(e=0),m.alloc(+e)},isBuffer:de}),Pe=a(function(e){(function(e,t){var w=Math.imul,_=Math.clz32,A=Math.max;function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){return o.isBN(e)?e:void(this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(n=t,t=10),this._init(e||0,t||10,n||"be")))}function s(e,t,n){for(var o,s=0,a=he(e.length,n),d=t;d<a;d++)o=e.charCodeAt(d)-48,s<<=4,s|=49<=o&&54>=o?o-49+10:17<=o&&22>=o?o-17+10:15&o;return s}function a(e,t,n,o){for(var s,a=0,d=he(e.length,n),l=t;l<d;l++)s=e.charCodeAt(l)-48,a*=o,a+=49<=s?s-49+10:17<=s?s-17+10:s;return a}function d(e){for(var t=Array(e.bitLength()),n=0;n<t.length;n++){var r=0|n/26,o=n%26;t[n]=(e.words[r]&1<<o)>>>o}return t}function l(e,t,n){n.negative=t.negative^e.negative;var o=0|e.length+t.length;n.length=o,o=0|o-1;var s=0|e.words[0],d=0|t.words[0],l=s*d,u=67108863&l,p=0|l/67108864;n.words[0]=u;for(var c=1;c<o;c++){for(var g,h=p>>>26,f=67108863&p,y=he(c,t.length-1),m=A(0,c-e.length+1);m<=y;m++)g=0|c-m,s=0|e.words[g],d=0|t.words[m],l=s*d+f,h+=0|l/67108864,f=67108863&l;n.words[c]=0|f,p=0|h}return 0===p?n.length--:n.words[c]=0|p,n.strip()}function u(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var o,s=0,d=0,l=0;l<n.length-1;l++){o=d,d=0;for(var u=67108863&s,p=he(l,t.length-1),c=A(0,l-e.length+1);c<=p;c++){var g=l-c,i=0|e.words[g],a=0|t.words[c],h=i*a,r=67108863&h;o=0|o+(0|h/67108864),r=0|r+u,u=67108863&r,o=0|o+(r>>>26),d+=o>>>26,o&=67108863}n.words[l]=u,s=o,o=d}return 0===s?n.length--:n.words[l]=s,n.strip()}function p(e,t,n){var r=new c;return r.mulp(e,t,n)}function c(e,t){this.x=e,this.y=t}function g(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function h(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function f(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function y(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function m(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function v(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function b(e){v.call(this,e),this.shift=this.m.bitLength(),0!=this.shift%26&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var E;try{E=Se.Buffer}catch(t){}o.isBN=function(e){return!!(e instanceof o)||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return 0<e.cmp(t)?e:t},o.min=function(e,t){return 0>e.cmp(t)?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&2<=t&&36>=t),e=e.toString().replace(/\s+/g,"");var o=0;"-"===e[0]&&o++,16===t?this._parseHex(e,o):this._parseBase(e,t,o),"-"===e[0]&&(this.negative=1),this.strip();"le"!==r||this._initArray(this.toArray(),t,r)},o.prototype._initNumber=function(e,t,r){0>e&&(this.negative=1,e=-e),67108864>e?(this.words=[67108863&e],this.length=1):4503599627370496>e?(this.words=[67108863&e,67108863&e/67108864],this.length=2):(n(9007199254740992>e),this.words=[67108863&e,67108863&e/67108864,1],this.length=3);"le"!==r||this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),0>=e.length)return this.words=[0],this.length=1,this;this.length=ce(e.length/3),this.words=Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var s,a,d=0;if("be"===r)for(o=e.length-1,s=0;0<=o;o-=3)a=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[s]|=67108863&a<<d,this.words[s+1]=67108863&a>>>26-d,d+=24,26<=d&&(d-=26,s++);else if("le"===r)for(o=0,s=0;o<e.length;o+=3)a=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[s]|=67108863&a<<d,this.words[s+1]=67108863&a>>>26-d,d+=24,26<=d&&(d-=26,s++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=ce((e.length-t)/6),this.words=Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,o,a=0;for(n=e.length-6,r=0;n>=t;n-=6)o=s(e,n,n+6),this.words[r]|=67108863&o<<a,this.words[r+1]|=4194303&o>>>26-a,a+=24,26<=a&&(a-=26,r++);n+6!==t&&(o=s(e,t,n+6),this.words[r]|=67108863&o<<a,this.words[r+1]|=4194303&o>>>26-a),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,o=1;67108863>=o;o*=t)r++;r--,o=0|o/t;for(var s=e.length-n,d=s%r,l=he(s,s-d)+n,u=0,p=n;p<l;p+=r)u=a(e,p,p+r,t),this.imuln(o),67108864>this.words[0]+u?this.words[0]+=u:this._iaddn(u);if(0!==d){var c=1;for(u=a(e,p,e.length,t),p=0;p<d;p++)c*=t;this.imuln(c),67108864>this.words[0]+u?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){e=e||10,t=0|t||1;var o;if(16===e||"hex"===e){o="";for(var s=0,a=0,d=0;d<this.length;d++){var l=this.words[d],u=(16777215&(l<<s|a)).toString(16);a=16777215&l>>>24-s,o=0!==a||d!=this.length-1?x[6-u.length]+u+o:u+o,s+=2,26<=s&&(s-=26,d--)}for(0!==a&&(o=a.toString(16)+o);0!=o.length%t;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}if(e===(0|e)&&2<=e&&36>=e){var p=T[e],g=I[e];o="";var h=this.clone();for(h.negative=0;!h.isZero();){var f=h.modn(g).toString(e);h=h.idivn(g),o=h.isZero()?f+o:x[p-f.length]+f+o}for(this.isZero()&&(o="0"+o);0!=o.length%t;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:2<this.length&&n(!1,"Number can only safely store up to 53 bits"),0===this.negative?e:-e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n("undefined"!=typeof E),this.toArrayLike(E,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var o=this.byteLength(),s=r||A(1,o);n(o<=s,"byte array longer than desired length"),n(0<s,"Requested array length <= 0"),this.strip();var a,d,l=new e(s),u=this.clone();if(!("le"===t)){for(d=0;d<s-o;d++)l[d]=0;for(d=0;!u.isZero();d++)a=u.andln(255),u.iushrn(8),l[s-d-1]=a}else{for(d=0;!u.isZero();d++)a=u.andln(255),u.iushrn(8),l[d]=a;for(;d<s;d++)l[d]=0}return l},o.prototype._countBits=_?function(e){return 32-_(e)}:function(e){var n=e,o=0;return 4096<=n&&(o+=13,n>>>=13),64<=n&&(o+=7,n>>>=7),8<=n&&(o+=4,n>>>=4),2<=n&&(o+=2,n>>>=2),o+n},o.prototype._zeroBits=function(e){if(0===e)return 26;var n=e,o=0;return 0==(8191&n)&&(o+=13,n>>>=13),0==(127&n)&&(o+=7,n>>>=7),0==(15&n)&&(o+=4,n>>>=4),0==(3&n)&&(o+=2,n>>>=2),0==(1&n)&&o++,o},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e,t=0,n=0;n<this.length&&(e=this._zeroBits(this.words[n]),t+=e,26===e);n++);return t},o.prototype.byteLength=function(){return ce(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0===this.negative?this.clone():this.abs().inotn(e).iaddn(1)},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]|=e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]&=e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&0<=e);var t=0|ce(e/26),r=e%26;this._expand(t),0<r&&t--;for(var o=0;o<t;o++)this.words[o]=67108863&~this.words[o];return 0<r&&(this.words[o]=~this.words[o]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&0<=e);var r=0|e/26,o=e%26;return this._expand(r+1),t?this.words[r]|=1<<o:this.words[r]&=~(1<<o),this.strip()},o.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var n,o;this.length>e.length?(n=this,o=e):(n=e,o=this);for(var s=0,d=0;d<o.length;d++)t=(0|n.words[d])+(0|o.words[d])+s,this.words[d]=67108863&t,s=t>>>26;for(;0!==s&&d<n.length;d++)t=(0|n.words[d])+s,this.words[d]=67108863&t,s=t>>>26;if(this.length=n.length,0!==s)this.words[this.length]=s,this.length++;else if(n!==this)for(;d<n.length;d++)this.words[d]=n.words[d];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;var o,s;0<n?(o=this,s=e):(o=e,s=this);for(var d=0,l=0;l<s.length;l++)t=(0|o.words[l])-(0|s.words[l])+d,d=t>>26,this.words[l]=67108863&t;for(;0!==d&&l<o.length;l++)t=(0|o.words[l])+d,d=t>>26,this.words[l]=67108863&t;if(0===d&&l<o.length&&o!==this)for(;l<o.length;l++)this.words[l]=o.words[l];return this.length=A(this.length,l),o!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var R=function(e,t,n){var r,i,s,d=e.words,a=t.words,l=n.words,o=0,u=0|d[0],p=8191&u,g=u>>>13,h=0|d[1],f=8191&h,y=h>>>13,m=0|d[2],v=8191&m,b=m>>>13,_=0|d[3],N=8191&_,A=_>>>13,E=0|d[4],x=8191&E,T=E>>>13,I=0|d[5],R=8191&I,S=I>>>13,P=0|d[6],U=8191&P,k=P>>>13,O=0|d[7],C=8191&O,L=O>>>13,B=0|d[8],M=8191&B,D=B>>>13,j=0|d[9],G=8191&j,F=j>>>13,V=0|a[0],Z=8191&V,Y=V>>>13,z=0|a[1],H=8191&z,W=z>>>13,q=0|a[2],X=8191&q,K=q>>>13,J=0|a[3],Q=8191&J,$=J>>>13,ee=0|a[4],te=8191&ee,ne=ee>>>13,re=0|a[5],oe=8191&re,ie=re>>>13,se=0|a[6],ae=8191&se,de=se>>>13,le=0|a[7],ue=8191&le,pe=le>>>13,ce=0|a[8],ge=8191&ce,he=ce>>>13,fe=0|a[9],ye=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19,r=w(p,Z),i=w(p,Y),i=0|i+w(g,Z),s=w(g,Y);var ve=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(ve>>>26),ve&=67108863,r=w(f,Z),i=w(f,Y),i=0|i+w(y,Z),s=w(y,Y),r=0|r+w(p,H),i=0|i+w(p,W),i=0|i+w(g,H),s=0|s+w(g,W);var be=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(be>>>26),be&=67108863,r=w(v,Z),i=w(v,Y),i=0|i+w(b,Z),s=w(b,Y),r=0|r+w(f,H),i=0|i+w(f,W),i=0|i+w(y,H),s=0|s+w(y,W),r=0|r+w(p,X),i=0|i+w(p,K),i=0|i+w(g,X),s=0|s+w(g,K);var we=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(we>>>26),we&=67108863,r=w(N,Z),i=w(N,Y),i=0|i+w(A,Z),s=w(A,Y),r=0|r+w(v,H),i=0|i+w(v,W),i=0|i+w(b,H),s=0|s+w(b,W),r=0|r+w(f,X),i=0|i+w(f,K),i=0|i+w(y,X),s=0|s+w(y,K),r=0|r+w(p,Q),i=0|i+w(p,$),i=0|i+w(g,Q),s=0|s+w(g,$);var _e=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(_e>>>26),_e&=67108863,r=w(x,Z),i=w(x,Y),i=0|i+w(T,Z),s=w(T,Y),r=0|r+w(N,H),i=0|i+w(N,W),i=0|i+w(A,H),s=0|s+w(A,W),r=0|r+w(v,X),i=0|i+w(v,K),i=0|i+w(b,X),s=0|s+w(b,K),r=0|r+w(f,Q),i=0|i+w(f,$),i=0|i+w(y,Q),s=0|s+w(y,$),r=0|r+w(p,te),i=0|i+w(p,ne),i=0|i+w(g,te),s=0|s+w(g,ne);var Ne=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Ne>>>26),Ne&=67108863,r=w(R,Z),i=w(R,Y),i=0|i+w(S,Z),s=w(S,Y),r=0|r+w(x,H),i=0|i+w(x,W),i=0|i+w(T,H),s=0|s+w(T,W),r=0|r+w(N,X),i=0|i+w(N,K),i=0|i+w(A,X),s=0|s+w(A,K),r=0|r+w(v,Q),i=0|i+w(v,$),i=0|i+w(b,Q),s=0|s+w(b,$),r=0|r+w(f,te),i=0|i+w(f,ne),i=0|i+w(y,te),s=0|s+w(y,ne),r=0|r+w(p,oe),i=0|i+w(p,ie),i=0|i+w(g,oe),s=0|s+w(g,ie);var Ae=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Ae>>>26),Ae&=67108863,r=w(U,Z),i=w(U,Y),i=0|i+w(k,Z),s=w(k,Y),r=0|r+w(R,H),i=0|i+w(R,W),i=0|i+w(S,H),s=0|s+w(S,W),r=0|r+w(x,X),i=0|i+w(x,K),i=0|i+w(T,X),s=0|s+w(T,K),r=0|r+w(N,Q),i=0|i+w(N,$),i=0|i+w(A,Q),s=0|s+w(A,$),r=0|r+w(v,te),i=0|i+w(v,ne),i=0|i+w(b,te),s=0|s+w(b,ne),r=0|r+w(f,oe),i=0|i+w(f,ie),i=0|i+w(y,oe),s=0|s+w(y,ie),r=0|r+w(p,ae),i=0|i+w(p,de),i=0|i+w(g,ae),s=0|s+w(g,de);var Ee=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Ee>>>26),Ee&=67108863,r=w(C,Z),i=w(C,Y),i=0|i+w(L,Z),s=w(L,Y),r=0|r+w(U,H),i=0|i+w(U,W),i=0|i+w(k,H),s=0|s+w(k,W),r=0|r+w(R,X),i=0|i+w(R,K),i=0|i+w(S,X),s=0|s+w(S,K),r=0|r+w(x,Q),i=0|i+w(x,$),i=0|i+w(T,Q),s=0|s+w(T,$),r=0|r+w(N,te),i=0|i+w(N,ne),i=0|i+w(A,te),s=0|s+w(A,ne),r=0|r+w(v,oe),i=0|i+w(v,ie),i=0|i+w(b,oe),s=0|s+w(b,ie),r=0|r+w(f,ae),i=0|i+w(f,de),i=0|i+w(y,ae),s=0|s+w(y,de),r=0|r+w(p,ue),i=0|i+w(p,pe),i=0|i+w(g,ue),s=0|s+w(g,pe);var xe=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(xe>>>26),xe&=67108863,r=w(M,Z),i=w(M,Y),i=0|i+w(D,Z),s=w(D,Y),r=0|r+w(C,H),i=0|i+w(C,W),i=0|i+w(L,H),s=0|s+w(L,W),r=0|r+w(U,X),i=0|i+w(U,K),i=0|i+w(k,X),s=0|s+w(k,K),r=0|r+w(R,Q),i=0|i+w(R,$),i=0|i+w(S,Q),s=0|s+w(S,$),r=0|r+w(x,te),i=0|i+w(x,ne),i=0|i+w(T,te),s=0|s+w(T,ne),r=0|r+w(N,oe),i=0|i+w(N,ie),i=0|i+w(A,oe),s=0|s+w(A,ie),r=0|r+w(v,ae),i=0|i+w(v,de),i=0|i+w(b,ae),s=0|s+w(b,de),r=0|r+w(f,ue),i=0|i+w(f,pe),i=0|i+w(y,ue),s=0|s+w(y,pe),r=0|r+w(p,ge),i=0|i+w(p,he),i=0|i+w(g,ge),s=0|s+w(g,he);var Te=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Te>>>26),Te&=67108863,r=w(G,Z),i=w(G,Y),i=0|i+w(F,Z),s=w(F,Y),r=0|r+w(M,H),i=0|i+w(M,W),i=0|i+w(D,H),s=0|s+w(D,W),r=0|r+w(C,X),i=0|i+w(C,K),i=0|i+w(L,X),s=0|s+w(L,K),r=0|r+w(U,Q),i=0|i+w(U,$),i=0|i+w(k,Q),s=0|s+w(k,$),r=0|r+w(R,te),i=0|i+w(R,ne),i=0|i+w(S,te),s=0|s+w(S,ne),r=0|r+w(x,oe),i=0|i+w(x,ie),i=0|i+w(T,oe),s=0|s+w(T,ie),r=0|r+w(N,ae),i=0|i+w(N,de),i=0|i+w(A,ae),s=0|s+w(A,de),r=0|r+w(v,ue),i=0|i+w(v,pe),i=0|i+w(b,ue),s=0|s+w(b,pe),r=0|r+w(f,ge),i=0|i+w(f,he),i=0|i+w(y,ge),s=0|s+w(y,he),r=0|r+w(p,ye),i=0|i+w(p,me),i=0|i+w(g,ye),s=0|s+w(g,me);var Ie=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Ie>>>26),Ie&=67108863,r=w(G,H),i=w(G,W),i=0|i+w(F,H),s=w(F,W),r=0|r+w(M,X),i=0|i+w(M,K),i=0|i+w(D,X),s=0|s+w(D,K),r=0|r+w(C,Q),i=0|i+w(C,$),i=0|i+w(L,Q),s=0|s+w(L,$),r=0|r+w(U,te),i=0|i+w(U,ne),i=0|i+w(k,te),s=0|s+w(k,ne),r=0|r+w(R,oe),i=0|i+w(R,ie),i=0|i+w(S,oe),s=0|s+w(S,ie),r=0|r+w(x,ae),i=0|i+w(x,de),i=0|i+w(T,ae),s=0|s+w(T,de),r=0|r+w(N,ue),i=0|i+w(N,pe),i=0|i+w(A,ue),s=0|s+w(A,pe),r=0|r+w(v,ge),i=0|i+w(v,he),i=0|i+w(b,ge),s=0|s+w(b,he),r=0|r+w(f,ye),i=0|i+w(f,me),i=0|i+w(y,ye),s=0|s+w(y,me);var Re=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Re>>>26),Re&=67108863,r=w(G,X),i=w(G,K),i=0|i+w(F,X),s=w(F,K),r=0|r+w(M,Q),i=0|i+w(M,$),i=0|i+w(D,Q),s=0|s+w(D,$),r=0|r+w(C,te),i=0|i+w(C,ne),i=0|i+w(L,te),s=0|s+w(L,ne),r=0|r+w(U,oe),i=0|i+w(U,ie),i=0|i+w(k,oe),s=0|s+w(k,ie),r=0|r+w(R,ae),i=0|i+w(R,de),i=0|i+w(S,ae),s=0|s+w(S,de),r=0|r+w(x,ue),i=0|i+w(x,pe),i=0|i+w(T,ue),s=0|s+w(T,pe),r=0|r+w(N,ge),i=0|i+w(N,he),i=0|i+w(A,ge),s=0|s+w(A,he),r=0|r+w(v,ye),i=0|i+w(v,me),i=0|i+w(b,ye),s=0|s+w(b,me);var Se=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Se>>>26),Se&=67108863,r=w(G,Q),i=w(G,$),i=0|i+w(F,Q),s=w(F,$),r=0|r+w(M,te),i=0|i+w(M,ne),i=0|i+w(D,te),s=0|s+w(D,ne),r=0|r+w(C,oe),i=0|i+w(C,ie),i=0|i+w(L,oe),s=0|s+w(L,ie),r=0|r+w(U,ae),i=0|i+w(U,de),i=0|i+w(k,ae),s=0|s+w(k,de),r=0|r+w(R,ue),i=0|i+w(R,pe),i=0|i+w(S,ue),s=0|s+w(S,pe),r=0|r+w(x,ge),i=0|i+w(x,he),i=0|i+w(T,ge),s=0|s+w(T,he),r=0|r+w(N,ye),i=0|i+w(N,me),i=0|i+w(A,ye),s=0|s+w(A,me);var Pe=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Pe>>>26),Pe&=67108863,r=w(G,te),i=w(G,ne),i=0|i+w(F,te),s=w(F,ne),r=0|r+w(M,oe),i=0|i+w(M,ie),i=0|i+w(D,oe),s=0|s+w(D,ie),r=0|r+w(C,ae),i=0|i+w(C,de),i=0|i+w(L,ae),s=0|s+w(L,de),r=0|r+w(U,ue),i=0|i+w(U,pe),i=0|i+w(k,ue),s=0|s+w(k,pe),r=0|r+w(R,ge),i=0|i+w(R,he),i=0|i+w(S,ge),s=0|s+w(S,he),r=0|r+w(x,ye),i=0|i+w(x,me),i=0|i+w(T,ye),s=0|s+w(T,me);var Ue=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Ue>>>26),Ue&=67108863,r=w(G,oe),i=w(G,ie),i=0|i+w(F,oe),s=w(F,ie),r=0|r+w(M,ae),i=0|i+w(M,de),i=0|i+w(D,ae),s=0|s+w(D,de),r=0|r+w(C,ue),i=0|i+w(C,pe),i=0|i+w(L,ue),s=0|s+w(L,pe),r=0|r+w(U,ge),i=0|i+w(U,he),i=0|i+w(k,ge),s=0|s+w(k,he),r=0|r+w(R,ye),i=0|i+w(R,me),i=0|i+w(S,ye),s=0|s+w(S,me);var ke=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(ke>>>26),ke&=67108863,r=w(G,ae),i=w(G,de),i=0|i+w(F,ae),s=w(F,de),r=0|r+w(M,ue),i=0|i+w(M,pe),i=0|i+w(D,ue),s=0|s+w(D,pe),r=0|r+w(C,ge),i=0|i+w(C,he),i=0|i+w(L,ge),s=0|s+w(L,he),r=0|r+w(U,ye),i=0|i+w(U,me),i=0|i+w(k,ye),s=0|s+w(k,me);var Oe=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Oe>>>26),Oe&=67108863,r=w(G,ue),i=w(G,pe),i=0|i+w(F,ue),s=w(F,pe),r=0|r+w(M,ge),i=0|i+w(M,he),i=0|i+w(D,ge),s=0|s+w(D,he),r=0|r+w(C,ye),i=0|i+w(C,me),i=0|i+w(L,ye),s=0|s+w(L,me);var Ce=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Ce>>>26),Ce&=67108863,r=w(G,ge),i=w(G,he),i=0|i+w(F,ge),s=w(F,he),r=0|r+w(M,ye),i=0|i+w(M,me),i=0|i+w(D,ye),s=0|s+w(D,me);var Le=0|(0|o+r)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Le>>>26),Le&=67108863,r=w(G,ye),i=w(G,me),i=0|i+w(F,ye),s=w(F,me);var Be=0|(0|o+r)+((8191&i)<<13);return o=0|(0|s+(i>>>13))+(Be>>>26),Be&=67108863,l[0]=ve,l[1]=be,l[2]=we,l[3]=_e,l[4]=Ne,l[5]=Ae,l[6]=Ee,l[7]=xe,l[8]=Te,l[9]=Ie,l[10]=Re,l[11]=Se,l[12]=Pe,l[13]=Ue,l[14]=ke,l[15]=Oe,l[16]=Ce,l[17]=Le,l[18]=Be,0!==o&&(l[19]=o,n.length++),n};w||(R=l),o.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?R(this,e,t):63>r?l(this,e,t):1024>r?u(this,e,t):p(this,e,t),n},c.prototype.makeRBT=function(e){for(var n=Array(e),t=o.prototype._countBits(e)-1,r=0;r<e;r++)n[r]=this.revBin(r,t,e);return n},c.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,o=0;o<t;o++)r|=(1&e)<<t-o-1,e>>=1;return r},c.prototype.permute=function(e,t,n,r,o,s){for(var a=0;a<s;a++)r[a]=t[e[a]],o[a]=n[e[a]]},c.prototype.transform=function(e,t,n,r,o,i){var a=Math.sin,d=Math.cos,u=Math.PI;this.permute(i,e,t,n,r,o);for(var c=1;c<o;c<<=1)for(var g=c<<1,l=d(2*u/g),h=a(2*u/g),f=0;f<o;f+=g)for(var y=l,m=h,v=0;v<c;v++){var b=n[f+v],w=r[f+v],_=n[f+v+c],N=r[f+v+c],A=y*_-m*N;N=y*N+m*_,_=A,n[f+v]=b+_,r[f+v]=w+N,n[f+v+c]=b-_,r[f+v+c]=w-N,v!==g&&(A=l*y-h*m,m=l*m+h*y,y=A)}},c.prototype.guessLen13b=function(e,t){var n=1|A(t,e),r=1&n,o=0;for(n=0|n/2;n;n>>>=1)o++;return 1<<o+1+r},c.prototype.conjugate=function(e,n,r){if(!(1>=r))for(var o,s=0;s<r/2;s++)o=e[s],e[s]=e[r-s-1],e[r-s-1]=o,o=n[s],n[s]=-n[r-s-1],n[r-s-1]=-o},c.prototype.normalize13b=function(e,t){for(var n=Math.round,r,o=0,s=0;s<t/2;s++)r=8192*n(e[2*s+1]/t)+n(e[2*s]/t)+o,e[s]=67108863&r,o=67108864>r?0:0|r/67108864;return e},c.prototype.convert13b=function(e,t,r,o){for(var s=0,a=0;a<t;a++)s+=0|e[a],r[2*a]=8191&s,s>>>=13,r[2*a+1]=8191&s,s>>>=13;for(a=2*t;a<o;++a)r[a]=0;n(0===s),n(0==(-8192&s))},c.prototype.stub=function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=0;return t},c.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),o=this.makeRBT(r),s=this.stub(r),a=Array(r),d=Array(r),l=Array(r),u=Array(r),p=Array(r),c=Array(r),g=n.words;g.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,u,r),this.transform(a,s,d,l,r,o),this.transform(u,s,p,c,r,o);for(var h,f=0;f<r;f++)h=d[f]*p[f]-l[f]*c[f],l[f]=d[f]*c[f]+l[f]*p[f],d[f]=h;return this.conjugate(d,l,r),this.transform(d,l,g,s,r,o),this.conjugate(g,s,r),this.normalize13b(g,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(67108864>e);for(var t=0,r=0;r<this.length;r++){var o=(0|this.words[r])*e,s=(67108863&o)+(67108863&t);t>>=26,t+=0|o/67108864,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=d(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&!(0!==t[r]);r++,n=n.sqr());if(++r<t.length)for(var s=n.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(n=n.mul(s));return n},o.prototype.iushln=function(e){n("number"==typeof e&&0<=e);var t,o=e%26,r=(e-o)/26;if(0!=o){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&67108863>>>26-o<<26-o,d=(0|this.words[t])-a<<o;this.words[t]=d|s,s=a>>>26-o}s&&(this.words[t]=s,this.length++)}if(0!==r){for(t=this.length-1;0<=t;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,o){n("number"==typeof e&&0<=e);var a=t?(t-t%26)/26:0;var d=e%26,r=he((e-d)/26,this.length),s=o;if(a-=r,a=A(0,a),s){for(var l=0;l<r;l++)s.words[l]=this.words[l];s.length=r}if(0===r);else if(this.length>r)for(this.length-=r,l=0;l<this.length;l++)this.words[l]=this.words[l+r];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;0<=l&&(0!=u||l>=a);l--){var p=0|this.words[l];this.words[l]=u<<26-d|p>>>d,u=p&(67108863^67108863>>>d<<d)}return s&&0!=u&&(s.words[s.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26;if(this.length<=r)return!1;var o=this.words[r];return!!(o&1<<t)},o.prototype.imaskn=function(e){n("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!=t&&r++,this.length=he(r,this.length),0!=t){this.words[this.length-1]&=67108863^67108863>>>t<<t}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(67108864>e),0>e?this.isubn(-e):0===this.negative?this._iaddn(e):1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&67108864<=this.words[t];t++)this.words[t]-=67108864,t==this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=A(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(67108864>e),0>e)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&0>this.words[t];t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var o,s=e.length+r;this._expand(s);var a,d=0;for(o=0;o<e.length;o++){a=(0|this.words[o+r])+d;var l=(0|e.words[o])*t;a-=67108863&l,d=(a>>26)-(0|l/67108864),this.words[o+r]=67108863&a}for(;o<this.length-r;o++)a=(0|this.words[o+r])+d,d=a>>26,this.words[o+r]=67108863&a;if(0===d)return this.strip();for(n(-1===d),d=0,o=0;o<this.length;o++)a=-(0|this.words[o])+d,d=a>>26,this.words[o]=67108863&a;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=this.length-e.length,r=this.clone(),s=e,d=0|s.words[s.length-1],l=this._countBits(d);n=26-l,0!=n&&(s=s.ushln(n),r.iushln(n),d=0|s.words[s.length-1]);var u,p=r.length-s.length;if("mod"!==t){u=new o(null),u.length=p+1,u.words=Array(u.length);for(var c=0;c<u.length;c++)u.words[c]=0}var g=r.clone()._ishlnsubmul(s,1,p);0===g.negative&&(r=g,u&&(u.words[p]=1));for(var h,f=p-1;0<=f;f--){for(h=67108864*(0|r.words[s.length+f])+(0|r.words[s.length+f-1]),h=he(0|h/d,67108863),r._ishlnsubmul(s,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(s,1,f),r.isZero()||(r.negative^=1);u&&(u.words[f]=h)}return u&&u.strip(),r.strip(),"div"!==t&&0!=n&&r.iushrn(n),{div:u||null,mod:r}},o.prototype.divmod=function(e,t,r){if(n(!e.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var i,s,a;return 0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0==(this.negative&e.negative)?e.length>this.length||0>this.cmp(e)?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t):(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s})},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0===t.div.negative?t.mod:t.mod.isub(e),r=e.ushrn(1),o=e.andln(1),i=n.cmp(r);return 0>i||1===o&&0===i?t.div:0===t.div.negative?t.div.iaddn(1):t.div.isubn(1)},o.prototype.modn=function(e){n(67108863>=e);for(var t=0,r=this.length-1;0<=r;r--)t=(67108864%e*t+(0|this.words[r]))%e;return t},o.prototype.idivn=function(e){n(67108863>=e);for(var t,r=0,o=this.length-1;0<=o;o--)t=(0|this.words[o])+67108864*r,this.words[o]=0|t/e,r=t%e;return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0===t.negative?t.clone():t.umod(e);for(var s=new o(1),a=new o(0),d=new o(0),l=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var p=r.clone(),c=t.clone();!t.isZero();){for(var h=0,f=1;0==(t.words[0]&f)&&26>h;++h,f<<=1);if(0<h)for(t.iushrn(h);0<h--;)(s.isOdd()||a.isOdd())&&(s.iadd(p),a.isub(c)),s.iushrn(1),a.iushrn(1);for(var y=0,m=1;0==(r.words[0]&m)&&26>y;++y,m<<=1);if(0<y)for(r.iushrn(y);0<y--;)(d.isOdd()||l.isOdd())&&(d.iadd(p),l.isub(c)),d.iushrn(1),l.iushrn(1);0<=t.cmp(r)?(t.isub(r),s.isub(d),a.isub(l)):(r.isub(t),d.isub(s),l.isub(a))}return{a:d,b:l,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0===t.negative?t.clone():t.umod(e);for(var s=new o(1),d=new o(0),l=r.clone();0<t.cmpn(1)&&0<r.cmpn(1);){for(var u=0,p=1;0==(t.words[0]&p)&&26>u;++u,p<<=1);if(0<u)for(t.iushrn(u);0<u--;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var c=0,g=1;0==(r.words[0]&g)&&26>c;++c,g<<=1);if(0<c)for(r.iushrn(c);0<c--;)d.isOdd()&&d.iadd(l),d.iushrn(1);0<=t.cmp(r)?(t.isub(r),s.isub(d)):(r.isub(t),d.isub(s))}var h;return h=0===t.cmpn(1)?s:d,0>h.cmpn(0)&&h.iadd(e),h},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var n=this.clone(),o=e.clone();n.negative=0,o.negative=0;for(var i=0;n.isEven()&&o.isEven();i++)n.iushrn(1),o.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;o.isEven();)o.iushrn(1);var s=n.cmp(o);if(0>s){var r=n;n=o,o=r}else if(0===s||0===o.cmpn(1))break;n.isub(o)}while(!0);return o.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,o=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=o,this;for(var s,a=o,d=r;0!==a&&d<this.length;d++)s=0|this.words[d],s+=a,a=s>>>26,s&=67108863,this.words[d]=s;return 0!==a&&(this.words[d]=a,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t=0>e;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this.strip();var r;if(1<this.length)r=1;else{t&&(e=-e),n(67108863>=e,"Number is too big");var o=0|this.words[0];r=o===e?0:o<e?-1:1}return 0===this.negative?r:0|-r},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0===this.negative?t:0|-t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;0<=n;n--){var r=0|this.words[n],o=0|e.words[n];if(r!==o){r<o?t=-1:r>o&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return 0<=this.cmpn(e)},o.prototype.gte=function(e){return 0<=this.cmp(e)},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return 0>=this.cmpn(e)},o.prototype.lte=function(e){return 0>=this.cmp(e)},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new v(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var S={k256:null,p224:null,p192:null,p25519:null};g.prototype._tmp=function(){var e=new o(null);return e.words=Array(ce(this.n/13)),e},g.prototype.ireduce=function(e){var t,n=e;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),t=n.bitLength();while(t>this.n);var o=t<this.n?-1:n.ucmp(this.p);return 0===o?(n.words[0]=0,n.length=1):0<o?n.isub(this.p):n.strip(),n},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},r(h,g),h.prototype.split=function(e,t){for(var n=4194303,r=he(e.length,9),o=0;o<r;o++)t.words[o]=e.words[o];if(t.length=r,9>=e.length)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&n,o=10;o<e.length;o++){var a=0|e.words[o];e.words[o-10]=(a&n)<<4|s>>>22,s=a}s>>>=22,e.words[o-10]=s,e.length-=0===s&&10<e.length?10:9},h.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t,n=0,r=0;r<e.length;r++)t=0|e.words[r],n+=977*t,e.words[r]=67108863&n,n=64*t+(0|n/67108864);return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(f,g),r(y,g),r(m,g),m.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,o=67108863&r;r>>>=26,e.words[n]=o,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function e(t){if(S[t])return S[t];var e;if("k256"===t)e=new h;else if("p224"===t)e=new f;else if("p192"===t)e=new y;else if("p25519"===t)e=new m;else throw new Error("Unknown prime "+t);return S[t]=e,e},v.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},v.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},v.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},v.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},v.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return 0<=n.cmp(this.m)&&n.isub(this.m),n._forceRed(this)},v.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return 0<=n.cmp(this.m)&&n.isub(this.m),n},v.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return 0>n.cmpn(0)&&n.iadd(this.m),n._forceRed(this)},v.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return 0>n.cmpn(0)&&n.iadd(this.m),n},v.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},v.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},v.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},v.prototype.isqr=function(e){return this.imul(e,e.clone())},v.prototype.sqr=function(e){return this.mul(e,e)},v.prototype.sqrt=function(e){if(e.isZero())return e.clone();var a=this.m.andln(3);if(n(1==a%2),3===a){var d=this.m.add(new o(1)).iushrn(2);return this.pow(e,d)}for(var l=this.m.subn(1),u=0;!l.isZero()&&0===l.andln(1);)u++,l.iushrn(1);n(!l.isZero());var p=new o(1).toRed(this),g=p.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,h).cmp(g);)f.redIAdd(g);for(var y=this.pow(f,l),v=this.pow(e,l.addn(1).iushrn(1)),w=this.pow(e,l),_=u;0!==w.cmp(p);){for(var N=w,A=0;0!==N.cmp(p);A++)N=N.redSqr();n(A<_);var E=this.pow(y,new o(1).iushln(_-A-1));v=v.redMul(E),y=E.redSqr(),w=w.redMul(y),_=A}return v},v.prototype.invm=function(e){var t=e._invmp(this.m);return 0===t.negative?this.imod(t):(t.negative=0,this.imod(t).redNeg())},v.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var s=n[0],a=0,d=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;0<=r;r--){for(var u,p=t.words[r],c=l-1;0<=c;c--){if(u=1&p>>c,s!==n[0]&&(s=this.sqr(s)),0===u&&0===a){d=0;continue}a<<=1,a|=u,d++,4!==d&&(0!=r||0!=c)||(s=this.mul(s,n[a]),d=0,a=0)}l=26}return s},v.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},v.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new b(e)},r(b,v),b.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},b.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},b.prototype.imul=function(e,n){if(e.isZero()||n.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(n),t=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(t).iushrn(this.shift),i=o;return 0<=o.cmp(this.m)?i=o.isub(this.m):0>o.cmpn(0)&&(i=o.iadd(this.m)),i._forceRed(this)},b.prototype.mul=function(e,n){if(e.isZero()||n.isZero())return new o(0)._forceRed(this);var r=e.mul(n),t=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(t).iushrn(this.shift),s=i;return 0<=i.cmp(this.m)?s=i.isub(this.m):0>i.cmpn(0)&&(s=i.iadd(this.m)),s._forceRed(this)},b.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}})(e,be)}),Ue=a(function(e,t){function n(e,n,r){if(i)throw new Error("unknown error");n||(n=t.UNKNOWN_ERROR),r||(r={});var o=[];Object.keys(r).forEach(function(e){try{o.push(e+"="+JSON.stringify(r[e]))}catch(t){o.push(e+"="+JSON.stringify(r[e].toString()))}});var s=e;o.length&&(e+=" ("+o.join(", ")+")");var a=new Error(e);throw a.reason=s,a.code=n,Object.keys(r).forEach(function(e){a[e]=r[e]}),a}function r(e,r){o&&n("error censorship permanent",t.UNSUPPORTED_OPERATION,{operation:"setCersorship"}),i=!!e,o=!!r}Object.defineProperty(t,"__esModule",{value:!0}),t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.MISSING_NEW="MISSING_NEW",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.NUMERIC_FAULT="NUMERIC_FAULT",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION";var o=!1,i=!1;t.throwError=n,t.checkNew=function(e,r){e instanceof r||n("missing new",t.MISSING_NEW,{name:r.name})},t.checkArgumentCount=function(e,r,o){o||(o=""),e<r&&n("missing argument"+o,t.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&n("too many arguments"+o,t.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})},t.setCensorship=r});s(Ue);var ke=Ue.UNKNOWN_ERROR,Oe=Ue.NOT_IMPLEMENTED,Ce=Ue.MISSING_NEW,Le=Ue.CALL_EXCEPTION,Be=Ue.INVALID_ARGUMENT,Me=Ue.MISSING_ARGUMENT,De=Ue.UNEXPECTED_ARGUMENT,je=Ue.NUMERIC_FAULT,Ge=Ue.UNSUPPORTED_OPERATION,Fe=Ue.throwError,Ve=Ue.checkNew,Ze=Ue.checkArgumentCount,Ye=Ue.setCensorship,ze=a(function(e,t){function n(e){return!!e._bn}function r(e){return e.slice?e:(e.slice=function(){var t=Array.prototype.slice.call(arguments);return new Uint8Array(Array.prototype.slice.apply(e,t))},e)}function o(e){if(!e||parseInt(e.length+"")!=e.length||"string"==typeof e)return!1;for(var t,n=0;n<e.length;n++)if(t=e[n],0>t||256<=t||parseInt(t+"")!=t)return!1;return!0}function s(e){if(null==e&&Ue.throwError("cannot convert null value to array",Ue.INVALID_ARGUMENT,{arg:"value",value:e}),n(e)&&(e=e.toHexString()),"string"==typeof e){var t=e.match(/^(0x)?[0-9a-fA-F]*$/);t||Ue.throwError("invalid hexidecimal string",Ue.INVALID_ARGUMENT,{arg:"value",value:e}),"0x"!==t[1]&&Ue.throwError("hex string must have 0x prefix",Ue.INVALID_ARGUMENT,{arg:"value",value:e}),e=e.substring(2),e.length%2&&(e="0"+e);for(var s=[],a=0;a<e.length;a+=2)s.push(parseInt(e.substr(a,2),16));return r(new Uint8Array(s))}return o(e)?r(new Uint8Array(e)):(Ue.throwError("invalid arrayify value",null,{arg:"value",value:e,type:typeof e}),null)}function a(e){for(var t,n=[],o=0,a=0;a<e.length;a++)t=s(e[a]),n.push(t),o+=t.length;for(var d=new Uint8Array(o),l=0,a=0;a<n.length;a++)d.set(n[a],l),l+=n[a].length;return r(d)}function d(e,t){return!!("string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/))&&!(t&&e.length!==2+2*t)}function l(e){if(n(e))return e.toHexString();if("number"==typeof e){0>e&&Ue.throwError("cannot hexlify negative value",Ue.INVALID_ARGUMENT,{arg:"value",value:e});for(var t="";e;)t="0123456789abcdef"[15&e]+t,e=fe(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("string"==typeof e){var r=e.match(/^(0x)?[0-9a-fA-F]*$/);return r||Ue.throwError("invalid hexidecimal string",Ue.INVALID_ARGUMENT,{arg:"value",value:e}),"0x"!==r[1]&&Ue.throwError("hex string must have 0x prefix",Ue.INVALID_ARGUMENT,{arg:"value",value:e}),e.length%2&&(e="0x0"+e.substring(2)),e}if(o(e)){for(var s,a=[],d=0;d<e.length;d++)s=e[d],a.push("0123456789abcdef"[(240&s)>>4]+"0123456789abcdef"[15&s]);return"0x"+a.join("")}return Ue.throwError("invalid hexlify value",null,{arg:"value",value:e}),"never"}function u(e,t){for(d(e)||Ue.throwError("invalid hex string",Ue.INVALID_ARGUMENT,{arg:"value",value:e});e.length<2*t+2;)e="0x0"+e.substring(2);return e}function p(e){return e&&null!=e.r&&null!=e.s}function c(e){var t=0,n="0x",o="0x";if(p(e)){null==e.v&&null==e.recoveryParam&&Ue.throwError("at least on of recoveryParam or v must be specified",Ue.INVALID_ARGUMENT,{argument:"signature",value:e}),n=u(e.r,32),o=u(e.s,32),t=e.v,"string"==typeof t&&(t=parseInt(t,16));var i=e.recoveryParam;null==i&&null!=e.v&&(i=1-t%2),t=27+i}else{var a=s(e);if(65!==a.length)throw new Error("invalid signature");n=l(a.slice(0,32)),o=l(a.slice(32,64)),t=a[64],27!==t&&28!==t&&(t=27+t%2)}return{r:n,s:o,recoveryParam:t-27,v:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressZero="0x0000000000000000000000000000000000000000",t.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000",t.isArrayish=o,t.arrayify=s,t.concat=a,t.stripZeros=function(e){var t=s(e);if(0===t.length)return t;for(var n=0;0===t[n];)n++;return n&&(t=t.slice(n)),t},t.padZeros=function(e,t){if(e=s(e),t<e.length)throw new Error("cannot pad");var n=new Uint8Array(t);return n.set(e,t-e.length),r(n)},t.isHexString=d;t.hexlify=l,t.hexDataLength=function(e){return d(e)&&0==e.length%2?(e.length-2)/2:null},t.hexDataSlice=function(e,t,n){return d(e)||Ue.throwError("invalid hex data",Ue.INVALID_ARGUMENT,{arg:"value",value:e}),0!=e.length%2&&Ue.throwError("hex data length must be even",Ue.INVALID_ARGUMENT,{arg:"value",value:e}),t=2+2*t,null==n?"0x"+e.substring(t):"0x"+e.substring(t,t+2*n)},t.hexStripZeros=function(e){for(d(e)||Ue.throwError("invalid hex string",Ue.INVALID_ARGUMENT,{arg:"value",value:e});3<e.length&&"0x0"===e.substring(0,3);)e="0x"+e.substring(3);return e},t.hexZeroPad=u,t.splitSignature=c,t.joinSignature=function(e){return e=c(e),l(a([e.r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}});s(ze);var He=ze.AddressZero,We=ze.HashZero,qe=ze.isArrayish,Xe=ze.arrayify,Ke=ze.concat,Je=ze.stripZeros,Qe=ze.padZeros,$e=ze.isHexString,et=ze.hexlify,tt=ze.hexDataLength,nt=ze.hexDataSlice,rt=ze.hexStripZeros,ot=ze.hexZeroPad,it=ze.splitSignature,st=ze.joinSignature,at=a(function(e){(function(){function t(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;50>r;++r)this.s[r]=0}var n="object"==typeof window?window:{},r=!n.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;r&&(n=be);for(var o=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d=[31,7936,2031616,520093696],l=[1,256,65536,16777216],u=[6,1536,393216,100663296],p=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=[224,256,384,512],g=[128,256],h=["hex","buffer","arrayBuffer","array"],y=function(e,n,r){return function(o){return new t(e,n,e).update(o)[r]()}},m=function(e,n,r){return function(o,i){return new t(e,n,i).update(o)[r]()}},v=function(e,n){var r=y(e,n,"hex");r.create=function(){return new t(e,n,e)},r.update=function(e){return r.create().update(e)};for(var o,s=0;s<h.length;++s)o=h[s],r[o]=y(e,n,o);return r},b=function(e,n){var r=m(e,n,"hex");r.create=function(r){return new t(e,n,r)},r.update=function(e,t){return r.create(t).update(e)};for(var o,s=0;s<h.length;++s)o=h[s],r[o]=m(e,n,o);return r},w=[{name:"keccak",padding:l,bits:s,createMethod:v},{name:"sha3",padding:u,bits:s,createMethod:v},{name:"shake",padding:d,bits:g,createMethod:b}],_={},N=[],A=0;A<w.length;++A)for(var E,x=w[A],T=x.bits,I=0;I<T.length;++I)E=x.name+"_"+T[I],N.push(E),_[E]=x.createMethod(T[I],x.padding);t.prototype.update=function(e){var t="string"!=typeof e;t&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e));for(var n,r,o=e.length,a=this.blocks,d=this.byteCount,l=this.blockCount,u=0,c=this.s;u<o;){if(this.reset)for(this.reset=!1,a[0]=this.block,n=1;n<l+1;++n)a[n]=0;if(t)for(n=this.start;u<o&&n<d;++u)a[n>>2]|=e[u]<<p[3&n++];else for(n=this.start;u<o&&n<d;++u)r=e.charCodeAt(u),128>r?a[n>>2]|=r<<p[3&n++]:2048>r?(a[n>>2]|=(192|r>>6)<<p[3&n++],a[n>>2]|=(128|63&r)<<p[3&n++]):55296>r||57344<=r?(a[n>>2]|=(224|r>>12)<<p[3&n++],a[n>>2]|=(128|63&r>>6)<<p[3&n++],a[n>>2]|=(128|63&r)<<p[3&n++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++u)),a[n>>2]|=(240|r>>18)<<p[3&n++],a[n>>2]|=(128|63&r>>12)<<p[3&n++],a[n>>2]|=(128|63&r>>6)<<p[3&n++],a[n>>2]|=(128|63&r)<<p[3&n++]);if(this.lastByteIndex=n,n>=d){for(this.start=n-d,this.block=a[l],n=0;n<l;++n)c[n]^=a[n];R(c),this.reset=!0}else this.start=n}return this},t.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];R(r)},t.prototype.toString=t.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,s=0,d=0,l="";d<r;){for(s=0;s<t&&d<r;++s,++d)e=n[s],l+=a[15&e>>4]+a[15&e]+a[15&e>>12]+a[15&e>>8]+a[15&e>>20]+a[15&e>>16]+a[15&e>>28]+a[15&e>>24];0==d%t&&(R(n),s=0)}return o&&(e=n[s],0<o&&(l+=a[15&e>>4]+a[15&e]),1<o&&(l+=a[15&e>>12]+a[15&e>>8]),2<o&&(l+=a[15&e>>20]+a[15&e>>16])),l},t.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,s=0,a=0,d=this.outputBits>>3;e=o?new ArrayBuffer(r+1<<2):new ArrayBuffer(d);for(var l=new Uint32Array(e);a<r;){for(s=0;s<t&&a<r;++s,++a)l[a]=n[s];0==a%t&&R(n)}return o&&(l[s]=n[s],e=e.slice(0,d)),e},t.prototype.buffer=t.prototype.arrayBuffer,t.prototype.digest=t.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,o=this.outputBlocks,s=this.extraBytes,a=0,d=0,l=[];d<o;){for(a=0;a<n&&d<o;++a,++d)e=d<<2,t=r[a],l[e]=255&t,l[e+1]=255&t>>8,l[e+2]=255&t>>16,l[e+3]=255&t>>24;0==d%n&&R(r)}return s&&(e=d<<2,t=r[a],0<s&&(l[e]=255&t),1<s&&(l[e+1]=255&t>>8),2<s&&(l[e+2]=255&t>>16)),l};var R=function(e){var t,r,o,i,s,a,d,u,p,g,f,y,m,v,b,w,_,N,A,E,x,T,I,R,S,P,U,k,O,C,L,B,M,D,j,G,F,V,Z,Y,z,H,W,q,X,K,J,Q,$,ee,te,ne,re,oe,ie,se,ae,de,le,ue,pe,ce,ge;for(o=0;48>o;o+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],d=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],p=e[5]^e[15]^e[25]^e[35]^e[45],g=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],y=e[8]^e[18]^e[28]^e[38]^e[48],m=e[9]^e[19]^e[29]^e[39]^e[49],t=y^(a<<1|d>>>31),r=m^(d<<1|a>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|p>>>31),r=s^(p<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=a^(g<<1|f>>>31),r=d^(f<<1|g>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(y<<1|m>>>31),r=p^(m<<1|y>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=g^(i<<1|s>>>31),r=f^(s<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,v=e[0],b=e[1],K=e[11]<<4|e[10]>>>28,J=e[10]<<4|e[11]>>>28,k=e[20]<<3|e[21]>>>29,O=e[21]<<3|e[20]>>>29,ue=e[31]<<9|e[30]>>>23,pe=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,W=e[41]<<18|e[40]>>>14,D=e[2]<<1|e[3]>>>31,j=e[3]<<1|e[2]>>>31,w=e[13]<<12|e[12]>>>20,_=e[12]<<12|e[13]>>>20,Q=e[22]<<10|e[23]>>>22,$=e[23]<<10|e[22]>>>22,C=e[33]<<13|e[32]>>>19,L=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,ge=e[43]<<2|e[42]>>>30,oe=e[5]<<30|e[4]>>>2,ie=e[4]<<30|e[5]>>>2,G=e[14]<<6|e[15]>>>26,F=e[15]<<6|e[14]>>>26,N=e[25]<<11|e[24]>>>21,A=e[24]<<11|e[25]>>>21,ee=e[34]<<15|e[35]>>>17,te=e[35]<<15|e[34]>>>17,B=e[45]<<29|e[44]>>>3,M=e[44]<<29|e[45]>>>3,R=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,se=e[17]<<23|e[16]>>>9,ae=e[16]<<23|e[17]>>>9,V=e[26]<<25|e[27]>>>7,Z=e[27]<<25|e[26]>>>7,E=e[36]<<21|e[37]>>>11,x=e[37]<<21|e[36]>>>11,ne=e[47]<<24|e[46]>>>8,re=e[46]<<24|e[47]>>>8,q=e[8]<<27|e[9]>>>5,X=e[9]<<27|e[8]>>>5,P=e[18]<<20|e[19]>>>12,U=e[19]<<20|e[18]>>>12,de=e[29]<<7|e[28]>>>25,le=e[28]<<7|e[29]>>>25,Y=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,T=e[48]<<14|e[49]>>>18,I=e[49]<<14|e[48]>>>18,e[0]=v^~w&N,e[1]=b^~_&A,e[10]=R^~P&k,e[11]=S^~U&O,e[20]=D^~G&V,e[21]=j^~F&Z,e[30]=q^~K&Q,e[31]=X^~J&$,e[40]=oe^~se&de,e[41]=ie^~ae&le,e[2]=w^~N&E,e[3]=_^~A&x,e[12]=P^~k&C,e[13]=U^~O&L,e[22]=G^~V&Y,e[23]=F^~Z&z,e[32]=K^~Q&ee,e[33]=J^~$&te,e[42]=se^~de&ue,e[43]=ae^~le&pe,e[4]=N^~E&T,e[5]=A^~x&I,e[14]=k^~C&B,e[15]=O^~L&M,e[24]=V^~Y&H,e[25]=Z^~z&W,e[34]=Q^~ee&ne,e[35]=$^~te&re,e[44]=de^~ue&ce,e[45]=le^~pe&ge,e[6]=E^~T&v,e[7]=x^~I&b,e[16]=C^~B&R,e[17]=L^~M&S,e[26]=Y^~H&D,e[27]=z^~W&j,e[36]=ee^~ne&q,e[37]=te^~re&X,e[46]=ue^~ce&oe,e[47]=pe^~ge&ie,e[8]=T^~v&w,e[9]=I^~b&_,e[18]=B^~R&P,e[19]=M^~S&U,e[28]=H^~D&G,e[29]=W^~j&F,e[38]=ne^~q&K,e[39]=re^~X&J,e[48]=ce^~oe&se,e[49]=ge^~ie&ae,e[0]^=c[o],e[1]^=c[o+1]};if(o)e.exports=_;else for(var A=0;A<N.length;++A)n[N[A]]=_[N[A]]})()}),dt=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.keccak256=function(e){return"0x"+at.keccak_256(ze.arrayify(e))}});s(dt);var lt=dt.keccak256,ut=a(function(e,t){function n(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function r(e,t,n){for(var r=0,o=0;o<n;o++)r=256*r+e[t+o];return r}function o(e){if(Array.isArray(e)){var t=[];if(e.forEach(function(e){t=t.concat(o(e))}),55>=t.length)return t.unshift(192+t.length),t;var r=n(t.length);return r.unshift(247+r.length),r.concat(t)}var i=Array.prototype.slice.call(ze.arrayify(e));if(1===i.length&&127>=i[0])return i;if(55>=i.length)return i.unshift(128+i.length),i;var r=n(i.length);return r.unshift(183+r.length),r.concat(i)}function i(e,t,n,r){for(var o,i=[];n<t+1+r;)if(o=s(e,n),i.push(o.result),n+=o.consumed,n>t+1+r)throw new Error("invalid rlp");return{consumed:1+r,result:i}}function s(e,t){if(0===e.length)throw new Error("invalid rlp data");if(248<=e[t]){var n=e[t]-247;if(t+1+n>e.length)throw new Error("too short");var o=r(e,t+1,n);if(t+1+n+o>e.length)throw new Error("to short");return i(e,t,t+1+n,n+o)}if(192<=e[t]){var o=e[t]-192;if(t+1+o>e.length)throw new Error("invalid rlp data");return i(e,t,t+1,o)}if(184<=e[t]){var n=e[t]-183;if(t+1+n>e.length)throw new Error("invalid rlp data");var o=r(e,t+1,n);if(t+1+n+o>e.length)throw new Error("invalid rlp data");var s=ze.hexlify(e.slice(t+1+n,t+1+n+o));return{consumed:1+n+o,result:s}}if(128<=e[t]){var o=e[t]-128;if(t+1+o>e.length)throw new Error("invlaid rlp data");var s=ze.hexlify(e.slice(t+1,t+1+o));return{consumed:1+o,result:s}}return{consumed:1,result:ze.hexlify(e[t])}}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function(e){return ze.hexlify(o(e))},t.decode=function(e){var t=ze.arrayify(e),n=s(t,0);if(n.consumed!==t.length)throw new Error("invalid rlp data");return n.result}});s(ut);var pt=ut.encode,ct=ut.decode,gt=a(function(e,t){function n(e){"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]{40}$/)||Ue.throwError("invalid address",Ue.INVALID_ARGUMENT,{arg:"address",value:e}),e=e.toLowerCase();for(var t=e.substring(2).split(""),n=new Uint8Array(40),r=0;40>r;r++)n[r]=t[r].charCodeAt(0);n=ze.arrayify(dt.keccak256(n));for(var o=0;40>o;o+=2)8<=n[o>>1]>>4&&(t[o]=t[o].toUpperCase()),8<=(15&n[o>>1])&&(t[o+1]=t[o+1].toUpperCase());return"0x"+t.join("")}function r(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";var t="";for(e.split("").forEach(function(e){t+=l[e]});t.length>=p;){var n=t.substring(0,p);t=parseInt(n,10)%97+t.substring(n.length)}for(var r=98-parseInt(t,10)%97+"";2>r.length;)r="0"+r;return r}function o(e){var t=null;if("string"!=typeof e&&Ue.throwError("invalid address",Ue.INVALID_ARGUMENT,{arg:"address",value:e}),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=n(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Ue.throwError("bad address checksum",Ue.INVALID_ARGUMENT,{arg:"address",value:e});else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==r(e)&&Ue.throwError("bad icap checksum",Ue.INVALID_ARGUMENT,{arg:"address",value:e}),t=new a.default.BN(e.substring(4),36).toString(16);40>t.length;)t="0"+t;t=n("0x"+t)}else Ue.throwError("invalid address",Ue.INVALID_ARGUMENT,{arg:"address",value:e});return t}var s=be&&be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});for(var a=s(Pe),d=9007199254740991,l={},u=0;10>u;u++)l[u+""]=u+"";for(var u=0;26>u;u++)l[ge(65+u)]=10+u+"";var p=fe(function(e){var t=Math.log10;return t?t(e):ye(e)/Math.LN10}(d));t.getAddress=o,t.getIcapAddress=function(e){for(var t=new a.default.BN(o(e).substring(2),16).toString(36).toUpperCase();30>t.length;)t="0"+t;return"XE"+r("XE00"+t)+t},t.getContractAddress=function(e){if(!e.from)throw new Error("missing from address");var t=e.nonce;return o("0x"+dt.keccak256(ut.encode([o(e.from),ze.stripZeros(ze.hexlify(t))])).substring(26))}});s(gt);var ht=gt.getAddress,ft=gt.getIcapAddress,yt=gt.getContractAddress,mt=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineReadOnly=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,value:n,writable:!1})},t.defineFrozen=function(e,t,n){var r=JSON.stringify(n);Object.defineProperty(e,t,{enumerable:!0,get:function(){return JSON.parse(r)}})},t.resolveProperties=function(e){var t={},n=[];return Object.keys(e).forEach(function(r){var o=e[r];o instanceof Promise?n.push(o.then(function(e){return t[r]=e,null})):t[r]=o}),Promise.all(n).then(function(){return t})},t.shallowCopy=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.jsonCopy=function(e){return JSON.parse(JSON.stringify(e))}});s(mt);var vt=mt.defineReadOnly,bt=mt.defineFrozen,wt=mt.resolveProperties,_t=mt.shallowCopy,Nt=mt.jsonCopy,At=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(){}}();t.BigNumber=n;var r=function(){return function(){}}();t.Indexed=r;var o=function(){return function(){}}();t.MinimalProvider=o;var i=function(){return function(){}}();t.Signer=i;var s=function(){return function(){}}();t.HDNode=s});s(At);var Et=At.BigNumber,xt=At.Indexed,Tt=At.MinimalProvider,It=At.Signer,Rt=At.HDNode,St=a(function(e,t){function n(e){var t=e.toString(16);return"-"===t[0]?0==t.length%2?"-0x0"+t.substring(1):"-0x"+t.substring(1):1==t.length%2?"0x0"+t:"0x"+t}function r(e){return s(e)._bn}function i(e){return new g(n(e))}function s(e){return e instanceof g?e:new g(e)}var a=be&&be.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=be&&be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=be&&be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=d(Pe),p=l(Ue),c=new u.default.BN(-1),g=function(e){function t(o){var i=e.call(this)||this;if(p.checkNew(i,t),"string"==typeof o)ze.isHexString(o)?("0x"==o&&(o="0x0"),mt.defineReadOnly(i,"_hex",o)):"-"===o[0]&&ze.isHexString(o.substring(1))?mt.defineReadOnly(i,"_hex",o):o.match(/^-?[0-9]*$/)?(""==o&&(o="0"),mt.defineReadOnly(i,"_hex",n(new u.default.BN(o)))):p.throwError("invalid BigNumber string value",p.INVALID_ARGUMENT,{arg:"value",value:o});else if("number"==typeof o){parseInt(o+"")!==o&&p.throwError("underflow",p.NUMERIC_FAULT,{operation:"setValue",fault:"underflow",value:o,outputValue:parseInt(o+"")});try{mt.defineReadOnly(i,"_hex",n(new u.default.BN(o)))}catch(e){p.throwError("overflow",p.NUMERIC_FAULT,{operation:"setValue",fault:"overflow",details:e.message})}}else o instanceof t?mt.defineReadOnly(i,"_hex",o._hex):o.toHexString?mt.defineReadOnly(i,"_hex",n(r(o.toHexString()))):ze.isArrayish(o)?mt.defineReadOnly(i,"_hex",n(new u.default.BN(ze.hexlify(o).substring(2),16))):p.throwError("invalid BigNumber value",p.INVALID_ARGUMENT,{arg:"value",value:o});return i}return a(t,e),Object.defineProperty(t.prototype,"_bn",{get:function(){return"-"===this._hex[0]?new u.default.BN(this._hex.substring(3),16).mul(c):new u.default.BN(this._hex.substring(2),16)},enumerable:!0,configurable:!0}),t.prototype.fromTwos=function(e){return i(this._bn.fromTwos(e))},t.prototype.toTwos=function(e){return i(this._bn.toTwos(e))},t.prototype.add=function(e){return i(this._bn.add(r(e)))},t.prototype.sub=function(e){return i(this._bn.sub(r(e)))},t.prototype.div=function(e){var t=s(e);return t.isZero()&&p.throwError("division by zero",p.NUMERIC_FAULT,{operation:"divide",fault:"division by zero"}),i(this._bn.div(r(e)))},t.prototype.mul=function(e){return i(this._bn.mul(r(e)))},t.prototype.mod=function(e){return i(this._bn.mod(r(e)))},t.prototype.pow=function(e){return i(this._bn.pow(r(e)))},t.prototype.maskn=function(e){return i(this._bn.maskn(e))},t.prototype.eq=function(e){return this._bn.eq(r(e))},t.prototype.lt=function(e){return this._bn.lt(r(e))},t.prototype.lte=function(e){return this._bn.lte(r(e))},t.prototype.gt=function(e){return this._bn.gt(r(e))},t.prototype.gte=function(e){return this._bn.gte(r(e))},t.prototype.isZero=function(){return this._bn.isZero()},t.prototype.toNumber=function(){try{return this._bn.toNumber()}catch(e){p.throwError("overflow",p.NUMERIC_FAULT,{operation:"setValue",fault:"overflow",details:e.message})}return null},t.prototype.toString=function(){return this._bn.toString(10)},t.prototype.toHexString=function(){return this._hex},t}(At.BigNumber);t.bigNumberify=s,t.ConstantNegativeOne=s(-1),t.ConstantZero=s(0),t.ConstantOne=s(1),t.ConstantTwo=s(2),t.ConstantWeiPerEther=s("1000000000000000000")});s(St);var Pt=St.bigNumberify,Ut=St.ConstantNegativeOne,kt=St.ConstantZero,Ot=St.ConstantOne,Ct=St.ConstantTwo,Lt=St.ConstantWeiPerEther,Bt=a(function(e,t){function n(e,t){void 0===t&&(t=r.current),t!=r.current&&(e=e.normalize(t));for(var n,o=[],s=0,a=0;a<e.length;a++)n=e.charCodeAt(a),128>n?o[s++]=n:2048>n?(o[s++]=192|n>>6,o[s++]=128|63&n):55296==(64512&n)&&a+1<e.length&&56320==(64512&e.charCodeAt(a+1))?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++a)),o[s++]=240|n>>18,o[s++]=128|63&n>>12,o[s++]=128|63&n>>6,o[s++]=128|63&n):(o[s++]=224|n>>12,o[s++]=128|63&n>>6,o[s++]=128|63&n);return ze.arrayify(o)}Object.defineProperty(t,"__esModule",{value:!0});var r;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(r=t.UnicodeNormalizationForm||(t.UnicodeNormalizationForm={})),t.toUtf8Bytes=n,t.toUtf8String=function(e){e=ze.arrayify(e);for(var t="",n=0;n<e.length;){var r=e[n++];if(0==r>>7){t+=ge(r);continue}if(2!=r>>6){var o=null;if(6==r>>5)o=1;else if(14==r>>4)o=2;else if(30==r>>3)o=3;else if(62==r>>2)o=4;else if(126==r>>1)o=5;else continue;if(n+o>e.length){for(;n<e.length&&2==e[n]>>6;n++);if(n!=e.length)continue;return t}var s,a=r&(1<<8-o-1)-1;for(s=0;s<o;s++){var d=e[n++];if(2!=d>>6)break;a=a<<6|63&d}if(s!=o){n--;continue}if(65535>=a){t+=ge(a);continue}a-=65536,t+=ge((1023&a>>10)+55296,(1023&a)+56320)}}return t}});s(Bt);var Mt=Bt.UnicodeNormalizationForm,Dt=Bt.toUtf8Bytes,jt=Bt.toUtf8String,Gt=a(function(e,t){function n(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}function r(e,t){function r(t){throw new Error("unexpected character \""+e[t]+"\" at position "+t+" in \""+e+"\"")}for(var o,s={type:"",name:"",state:{allowType:!0}},a=s,d=0;d<e.length;d++)switch(o=e[d],o){case"(":a.state.allowParams||r(d),a.state.allowType=!1,a.type=n(a.type),a.components=[{type:"",name:"",parent:a,state:{allowType:!0}}],a=a.components[0];break;case")":delete a.state,t&&"indexed"===a.name&&(a.indexed=!0,a.name=""),a.type=n(a.type);var l=a;a=a.parent,a||r(d),delete l.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,t&&"indexed"===a.name&&(a.indexed=!0,a.name=""),a.type=n(a.type);var u={type:"",name:"",parent:a.parent,state:{allowType:!0}};a.parent.components.push(u),delete a.parent,a=u;break;case" ":a.state.allowType&&""!==a.type&&(a.type=n(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&""!==a.name&&(t&&"indexed"===a.name?(a.indexed=!0,a.name=""):a.state.allowName=!1);break;case"[":a.state.allowArray||r(d),a.type+=o,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||r(d),a.type+=o,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=o,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=o,delete a.state.allowArray):a.state.readArray?a.type+=o:r(d);}if(a.parent)throw new Error("unexpected eof");return delete s.state,t&&"indexed"===a.name&&(a.indexed=!0,a.name=""),s.type=n(s.type),s}function o(e){var t={anonymous:!1,inputs:[],name:"",type:"event"},n=e.match(_);if(!n)throw new Error("invalid event: "+e);if(t.name=n[1].trim(),c(n[2]).forEach(function(e){e=r(e,!0),e.indexed=!!e.indexed,t.inputs.push(e)}),n[3].split(" ").forEach(function(e){switch(e){case"anonymous":t.anonymous=!0;break;case"":break;default:console.log("unknown modifier: "+e);}}),t.name&&!t.name.match(N))throw new Error("invalid identifier: \""+t.name+"\"");return t}function i(e){var t={constant:!1,inputs:[],name:"",outputs:[],payable:!1,stateMutability:null,type:"function"},n=e.split(" returns "),o=n[0].match(_);if(!o)throw new Error("invalid signature");if(t.name=o[1].trim(),!t.name.match(N))throw new Error("invalid identifier: \""+o[1]+"\"");if(c(o[2]).forEach(function(e){t.inputs.push(r(e))}),o[3].split(" ").forEach(function(e){switch(e){case"constant":t.constant=!0;break;case"payable":t.payable=!0;break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"":break;default:console.log("unknown modifier: "+e);}}),1<n.length){var i=n[1].match(_);if(""!=i[1].trim()||""!=i[3].trim())throw new Error("unexpected tokens");c(i[2]).forEach(function(e){t.outputs.push(r(e))})}return t}function s(e){return h(t.defaultCoerceFunc,e).type}function a(e){var t=32*ce(e.length/32),n=new Uint8Array(t-e.length);return ze.concat([I.encode(e.length),e,n])}function d(e,t,n){e.length<t+32&&m.throwError("insufficient data for dynamicBytes length",m.INVALID_ARGUMENT,{arg:n,coderType:"dynamicBytes",value:ze.hexlify(e.slice(t,t+32))});var r=I.decode(e,t).value;try{r=r.toNumber()}catch(e){m.throwError("dynamic bytes count too large",m.INVALID_ARGUMENT,{arg:n,coderType:"dynamicBytes",value:r.toString()})}return e.length<t+32+r&&m.throwError("insufficient data for dynamicBytes type",m.INVALID_ARGUMENT,{arg:n,coderType:"dynamicBytes",value:ze.hexlify(e.slice(t,t+32+r))}),{consumed:32+32*ce(r/32),value:e.slice(t+32,t+32+r)}}function l(e){return 32*ce(e/32)}function u(e,t){if(Array.isArray(t));else if(t&&"object"==typeof t){var n=[];e.forEach(function(e){n.push(t[e.localName])}),t=n}else m.throwError("invalid tuple value",m.INVALID_ARGUMENT,{coderType:"tuple",value:t});e.length!==t.length&&m.throwError("types/value length mismatch",m.INVALID_ARGUMENT,{coderType:"tuple",value:t});var r=[];e.forEach(function(e,n){r.push({dynamic:e.dynamic,value:e.encode(t[n])})});var o=0,i=0;r.forEach(function(e){e.dynamic?(o+=32,i+=l(e.value.length)):o+=l(e.value.length)});var s=0,a=o,d=new Uint8Array(o+i);return r.forEach(function(e){e.dynamic?(d.set(I.encode(a),s),s+=32,d.set(e.value,a),a+=l(e.value.length)):(d.set(e.value,s),s+=l(e.value.length))}),d}function p(e,t,n){var r=n,o=0,i=[];return e.forEach(function(e){if(e.dynamic){var s=I.decode(t,n),a=e.decode(t,r+s.value.toNumber());a.consumed=s.consumed}else var a=e.decode(t,n);null!=a.value&&i.push(a.value),n+=a.consumed,o+=a.consumed}),e.forEach(function(e,t){var n=e.localName;n&&("length"===n&&(n="_length"),null!=i[n]||(i[n]=i[t]))}),{value:i,consumed:o}}function c(e){for(var t,n=[],r="",o=0,i=0;i<e.length;i++)if(t=e[i],","===t&&0===o)n.push(r),r="";else if(r+=t,"("===t)o++;else if(")"===t&&(o--,-1===o))throw new Error("unbalanced parenthsis");return n.push(r),n}function g(e,t,n){t||(t=[]);var r=[];return t.forEach(function(t){r.push(h(e,t))}),new C(e,r,n)}function h(e,t){var n=L[t.type];if(n)return new n(e,t.name);var r=t.type.match(b);if(r){var o=parseInt(r[2]||"256");return(0===o||256<o||0!=o%8)&&m.throwError("invalid "+r[1]+" bit length",m.INVALID_ARGUMENT,{arg:"param",value:t}),new T(e,o/8,"int"===r[1],t.name)}var r=t.type.match(v);if(r){var o=parseInt(r[1]);return(0===o||32<o)&&m.throwError("invalid bytes length",m.INVALID_ARGUMENT,{arg:"param",value:t}),new S(e,o,t.name)}var r=t.type.match(w);if(r){var o=parseInt(r[2]||"-1");return t=mt.jsonCopy(t),t.type=r[1],new O(e,h(e,t),o,t.name)}return"tuple"===t.type.substring(0,5)?g(e,t.components,t.name):""===t.type?new x(e,t.name):(m.throwError("invalid type",m.INVALID_ARGUMENT,{arg:"type",value:t.type}),null)}var f=be&&be.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=be&&be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var m=y(Ue),v=new RegExp(/^bytes([0-9]*)$/),b=new RegExp(/^(u?int)([0-9]*)$/),w=new RegExp(/^(.*)\[([0-9]*)\]$/);t.defaultCoerceFunc=function(e,t){var n=e.match(b);return n&&48>=parseInt(n[2])?t.toNumber():t};var _=/^([^)(]*)\((.*)\)([^)(]*)$/,N=/^[A-Za-z_][A-Za-z0-9_]*$/;t.parseParamType=function(e){return r(e,!0)},t.formatParamType=s,t.formatSignature=function(e){return e.name+"("+e.inputs.map(function(e){return s(e)}).join(",")+")"},t.parseSignature=function(e){if("string"==typeof e)return e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),"event "===e.substring(0,6)?o(e.substring(6).trim()):("function "===e.substring(0,9)&&(e=e.substring(9)),i(e.trim()));throw new Error("unknown signature")};var A=function(){return function(e,t,n,r,o){this.coerceFunc=e,this.name=t,this.type=n,this.localName=r,this.dynamic=o}}(),E=function(e){function t(t){var n=e.call(this,t.coerceFunc,t.name,t.type,void 0,t.dynamic)||this;return mt.defineReadOnly(n,"coder",t),n}return f(t,e),t.prototype.encode=function(e){return this.coder.encode(e)},t.prototype.decode=function(e,t){return this.coder.decode(e,t)},t}(A),x=function(e){function t(t,n){return e.call(this,t,"null","",n,!1)||this}return f(t,e),t.prototype.encode=function(){return ze.arrayify([])},t.prototype.decode=function(e,t){if(t>e.length)throw new Error("invalid null");return{consumed:0,value:this.coerceFunc("null",void 0)}},t}(A),T=function(e){function t(t,n,r,o){var i=this,s=(r?"int":"uint")+8*n;return i=e.call(this,t,s,s,o,!1)||this,i.size=n,i.signed=r,i}return f(t,e),t.prototype.encode=function(e){try{var t=St.bigNumberify(e);return t=t.toTwos(8*this.size).maskn(8*this.size),this.signed&&(t=t.fromTwos(8*this.size).toTwos(256)),ze.padZeros(ze.arrayify(t),32)}catch(t){m.throwError("invalid number value",m.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:e})}return null},t.prototype.decode=function(e,t){e.length<t+32&&m.throwError("insufficient data for "+this.name+" type",m.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:ze.hexlify(e.slice(t,t+32))});var n=32-this.size,r=St.bigNumberify(e.slice(t+n,t+32));return r=this.signed?r.fromTwos(8*this.size):r.maskn(8*this.size),{consumed:32,value:this.coerceFunc(this.name,r)}},t}(A),I=new T(function(e,t){return t},32,!1,"none"),R=function(e){function t(t,n){return e.call(this,t,"bool","bool",n,!1)||this}return f(t,e),t.prototype.encode=function(e){return I.encode(e?1:0)},t.prototype.decode=function(e,t){try{var n=I.decode(e,t)}catch(e){throw"insufficient data for uint256 type"===e.reason&&m.throwError("insufficient data for boolean type",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"boolean",value:e.value}),e}return{consumed:n.consumed,value:this.coerceFunc("bool",!n.value.isZero())}},t}(A),S=function(e){function t(t,n,r){var o=this,i="bytes"+n;return o=e.call(this,t,i,i,r,!1)||this,o.length=n,o}return f(t,e),t.prototype.encode=function(e){var t=new Uint8Array(32);try{var n=ze.arrayify(e);if(32<n.length)throw new Error;t.set(n)}catch(t){m.throwError("invalid "+this.name+" value",m.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:t.value||e})}return t},t.prototype.decode=function(e,t){return e.length<t+32&&m.throwError("insufficient data for "+name+" type",m.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:ze.hexlify(e.slice(t,t+32))}),{consumed:32,value:this.coerceFunc(this.name,ze.hexlify(e.slice(t,t+this.length)))}},t}(A),P=function(e){function t(t,n){return e.call(this,t,"address","address",n,!1)||this}return f(t,e),t.prototype.encode=function(e){var t=new Uint8Array(32);try{t.set(ze.arrayify(gt.getAddress(e)),12)}catch(t){m.throwError("invalid address",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"address",value:e})}return t},t.prototype.decode=function(e,t){return e.length<t+32&&m.throwError("insufficuent data for address type",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"address",value:ze.hexlify(e.slice(t,t+32))}),{consumed:32,value:this.coerceFunc("address",gt.getAddress(ze.hexlify(e.slice(t+12,t+32))))}},t}(A),U=function(e){function t(t,n){return e.call(this,t,"bytes","bytes",n,!0)||this}return f(t,e),t.prototype.encode=function(e){try{return a(ze.arrayify(e))}catch(e){m.throwError("invalid bytes value",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"bytes",value:e.value})}return null},t.prototype.decode=function(e,t){var n=d(e,t,this.localName);return n.value=this.coerceFunc("bytes",ze.hexlify(n.value)),n},t}(A),k=function(e){function t(t,n){return e.call(this,t,"string","string",n,!0)||this}return f(t,e),t.prototype.encode=function(e){return"string"!=typeof e&&m.throwError("invalid string value",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"string",value:e}),a(Bt.toUtf8Bytes(e))},t.prototype.decode=function(e,t){var n=d(e,t,this.localName);return n.value=this.coerceFunc("string",Bt.toUtf8String(n.value)),n},t}(A),O=function(e){function t(t,n,r,o){var i=this,s=n.type+"["+(0<=r?r:"")+"]",a=-1===r||n.dynamic;return i=e.call(this,t,"array",s,o,a)||this,i.coder=n,i.length=r,i}return f(t,e),t.prototype.encode=function(e){Array.isArray(e)||m.throwError("expected array value",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:e});var t=this.length,n=new Uint8Array(0);-1===t&&(t=e.length,n=I.encode(t)),m.checkArgumentCount(t,e.length,"in coder array"+(this.localName?" "+this.localName:""));for(var r=[],o=0;o<e.length;o++)r.push(this.coder);return ze.concat([n,u(r,e)])},t.prototype.decode=function(e,t){var n=0,r=this.length;if(-1===r){try{var o=I.decode(e,t)}catch(e){m.throwError("insufficient data for dynamic array length",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:e.value})}try{r=o.value.toNumber()}catch(e){m.throwError("array count too large",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:o.value.toString()})}n+=o.consumed,t+=o.consumed}for(var s=[],a=0;a<r;a++)s.push(new E(this.coder));var d=p(s,e,t);return d.consumed+=n,d.value=this.coerceFunc(this.type,d.value),d},t}(A),C=function(e){function t(t,n,r){var o=this,i=!1,s=[];n.forEach(function(e){e.dynamic&&(i=!0),s.push(e.type)});var a="tuple("+s.join(",")+")";return o=e.call(this,t,"tuple",a,r,i)||this,o.coders=n,o}return f(t,e),t.prototype.encode=function(e){return u(this.coders,e)},t.prototype.decode=function(e,t){var n=p(this.coders,e,t);return n.value=this.coerceFunc(this.type,n.value),n},t}(A),L={address:P,bool:R,string:k,bytes:U},B=function(){function e(n){m.checkNew(this,e),n||(n=t.defaultCoerceFunc),mt.defineReadOnly(this,"coerceFunc",n)}return e.prototype.encode=function(e,t){e.length!==t.length&&m.throwError("types/values length mismatch",m.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});var n=[];return e.forEach(function(e){var t=null;t="string"==typeof e?r(e):e,n.push(h(this.coerceFunc,t))},this),ze.hexlify(new C(this.coerceFunc,n,"_").encode(t))},e.prototype.decode=function(e,t){var n=[];return e.forEach(function(e){var t=null;t="string"==typeof e?r(e):mt.jsonCopy(e),n.push(h(this.coerceFunc,t))},this),new C(this.coerceFunc,n,"_").decode(ze.arrayify(t),0).value},e}();t.AbiCoder=B,t.defaultAbiCoder=new B});s(Gt);var Ft=Gt.defaultCoerceFunc,Vt=Gt.parseParamType,Zt=Gt.formatParamType,Yt=Gt.formatSignature,zt=Gt.parseSignature,Ht=Gt.AbiCoder,Wt=Gt.defaultAbiCoder,qt=new Ht(function(e,n){return!e.match(/^u?int/)||t.isArray(n)||t.isObject(n)&&"BN"===n.constructor.name?n:n.toString()}),Xt=function(){function e(t){r(this,e),this.utils=t}return i(e,[{key:"encodeFunctionSignature",value:function(e){return t.isObject(e)&&(e=this.utils._jsonInterfaceMethodToString(e)),this.utils.sha3(e).slice(0,10)}},{key:"encodeEventSignature",value:function(e){return t.isObject(e)&&(e=this.utils._jsonInterfaceMethodToString(e)),this.utils.sha3(e)}},{key:"encodeParameter",value:function(e,t){return this.encodeParameters([e],[t])}},{key:"encodeParameters",value:function(e,t){return qt.encode(this.mapTypes(e),t)}},{key:"mapTypes",value:function(e){var t=this,n=[];return e.forEach(function(e){if(t.isSimplifiedStructFormat(e)){var r=Object.keys(e)[0];return void n.push(Object.assign(t.mapStructNameAndType(r),{components:t.mapStructToCoderFormat(e[r])}))}n.push(e)}),n}},{key:"isSimplifiedStructFormat",value:function(e){return"object"===n(e)&&"undefined"==typeof e.components&&"undefined"==typeof e.name}},{key:"mapStructNameAndType",value:function(e){var t="tuple";return-1<e.indexOf("[]")&&(t="tuple[]",e=e.slice(0,-2)),{type:t,name:e}}},{key:"mapStructToCoderFormat",value:function(e){var t=this,r=[];return Object.keys(e).forEach(function(o){return"object"===n(e[o])?void r.push(Object.assign(t.mapStructNameAndType(o),{components:t.mapStructToCoderFormat(e[o])})):void r.push({name:o,type:e[o]})}),r}},{key:"encodeFunctionCall",value:function(e,t){return this.encodeFunctionSignature(e)+this.encodeParameters(e.inputs,t).replace("0x","")}},{key:"decodeParameter",value:function(e,t){return this.decodeParameters([e],t)[0]}},{key:"decodeParameters",value:function(e,n){if(!n||"0x"===n||"0X"===n)throw new Error("Returned values aren't valid, did it run Out of Gas?");var r=qt.decode(this.mapTypes(e),"0x".concat(n.replace(/0x/i,""))),o=new pe;return o.__length__=0,e.forEach(function(e,n){var i=r[o.__length__];i="0x"===i?null:i,o[n]=i,t.isObject(e)&&e.name&&(o[e.name]=i),o.__length__++}),o}},{key:"decodeLog",value:function(e,n,r){var o=this;r=t.isArray(r)?r:[r],n=n||"";var s=[],a=[],d=0;e.forEach(function(e,t){e.indexed?(a[t]=["bool","int","uint","address","fixed","ufixed"].find(function(t){return-1!==e.type.indexOf(t)})?o.decodeParameter(e.type,r[d]):r[d],d++):s[t]=e});var l=n,u=l?this.decodeParameters(s,l):[],p=new pe;return p.__length__=0,e.forEach(function(e,t){p[t]="string"===e.type?"":null,"undefined"!=typeof u[t]&&(p[t]=u[t]),"undefined"!=typeof a[t]&&(p[t]=a[t]),e.name&&(p[e.name]=p[t]),p.__length__++}),p}}]),e}(),Kt=function(){function e(){r(this,e)}return i(e,[{key:"createAbiCoder",value:function(e){return new Xt(e)}}]),e}();e.AbiCoder=function(){return new Kt().createAbiCoder(ve)},Object.defineProperty(e,"__esModule",{value:!0})});
