{"version":3,"file":"web3-eth-personal.umd.js","sources":["../src/Personal.js","../src/factories/MethodModelFactory.js","../src/factories/PersonalModuleFactory.js","../src/index.js"],"sourcesContent":["/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @author Samuel Furter <samuel@ethereum.org>\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2018\n */\n\nimport {AbstractWeb3Module} from 'web3-core';\n\nexport default class Personal extends AbstractWeb3Module {\n    /**\n     * TODO: Add missing documentation for getAccounts, lockAccount, importRawKey and sendTransaction!\n     *\n     * @param {AbstractProviderAdapter|EthereumProvider} provider\n     * @param {ProvidersModuleFactory} providersModuleFactory\n     * @param {Object} providers\n     * @param {MethodController} methodController\n     * @param {MethodModelFactory} methodModelFactory\n     * @param {Network} net\n     * @param {Object} utils\n     * @param {Object} formatters\n     * @param {Object} options\n     *\n     * @constructor\n     */\n    constructor(\n        provider,\n        providersModuleFactory,\n        providers,\n        methodController,\n        methodModelFactory,\n        net,\n        utils,\n        formatters,\n        options\n    ) {\n        super(provider, providersModuleFactory, providers, methodController, methodModelFactory, options);\n\n        this.utils = utils;\n        this.formatters = formatters;\n        this.net = net;\n    }\n\n    /**\n     * Extends setProvider method from AbstractWeb3Module.\n     *\n     * @method setProvider\n     *\n     * @param {Object|String} provider\n     * @param {Net} net\n     *\n     * @returns {Boolean}\n     */\n    setProvider(provider, net) {\n        return !!(super.setProvider(provider, net) && this.net.setProvider(provider, net));\n    }\n\n    /**\n     * Sets the defaultGasPrice property on the current object and the network module\n     *\n     * @property defaultGasPrice\n     *\n     * @param {String} value\n     */\n    set defaultGasPrice(value) {\n        super.defaultGasPrice = value;\n        this.net.defaultGasPrice = value;\n    }\n\n    /**\n     * Sets the defaultGas property on the current object and the network module\n     *\n     * @property defaultGas\n     *\n     * @param {Number} value\n     */\n    set defaultGas(value) {\n        super.defaultGas = value;\n        this.net.defaultGas = value;\n    }\n\n    /**\n     * Sets the transactionBlockTimeout property on the current object and the network module\n     *\n     * @property transactionBlockTimeout\n     *\n     * @param {Number} value\n     */\n    set transactionBlockTimeout(value) {\n        super.transactionBlockTimeout = value;\n        this.net.transactionBlockTimeout = value;\n    }\n\n    /**\n     * Sets the transactionConfirmationBlocks property on the current object and the network module\n     *\n     * @property transactionConfirmationBlocks\n     *\n     * @param {Number} value\n     */\n    set transactionConfirmationBlocks(value) {\n        super.transactionConfirmationBlocks = value;\n        this.net.transactionConfirmationBlocks = value;\n    }\n\n    /**\n     * Sets the transactionPollingTimeout property on the current object and the network module\n     *\n     * @property transactionPollingTimeout\n     *\n     * @param {Number} value\n     */\n    set transactionPollingTimeout(value) {\n        super.transactionPollingTimeout = value;\n        this.net.transactionPollingTimeout = value;\n    }\n\n    /**\n     * Sets the defaultAccount property on the current object and the network module\n     *\n     * @property defaultAccount\n     *\n     * @param {String} value\n     */\n    set defaultAccount(value) {\n        super.defaultAccount = value;\n        this.net.defaultAccount = value;\n    }\n\n    /**\n     * Sets the defaultBlock property on the current object and the network module\n     *\n     * @property defaultBlock\n     *\n     * @param value\n     */\n    set defaultBlock(value) {\n        super.defaultBlock = value;\n        this.net.defaultBlock = value;\n    }\n}\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file MethodModelFactory.js\n * @author Samuel Furter <samuel@ethereum.org>\n * @date 2018\n */\n\nimport {\n    AbstractMethodModelFactory,\n    GetAccountsMethodModel,\n    NewAccountMethodModel,\n    UnlockAccountMethodModel,\n    LockAccountMethodModel,\n    ImportRawKeyMethodModel,\n    PersonalSendTransactionMethodModel,\n    PersonalSignTransactionMethodModel,\n    PersonalSignMethodModel,\n    EcRecoverMethodModel\n} from 'web3-core-method';\n\nexport default class MethodModelFactory extends AbstractMethodModelFactory {\n    /**\n     * @param {Object} utils\n     * @param {Object} formatters\n     *\n     * @constructor\n     */\n    constructor(utils, formatters) {\n        super(\n            {\n                getAccounts: GetAccountsMethodModel,\n                newAccount: NewAccountMethodModel,\n                unlockAccount: UnlockAccountMethodModel,\n                lockAccount: LockAccountMethodModel,\n                importRawKey: ImportRawKeyMethodModel,\n                sendTransaction: PersonalSendTransactionMethodModel,\n                signTransaction: PersonalSignTransactionMethodModel,\n                sign: PersonalSignMethodModel,\n                ecRecover: EcRecoverMethodModel\n            },\n            utils,\n            formatters\n        );\n    }\n}\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file PersonalModuleFactory.js\n * @author Samuel Furter <samuel@ethereum.org>\n * @date 2018\n */\n\nimport Personal from '../Personal';\nimport MethodModelFactory from './MethodModelFactory';\n\nexport default class PersonalModuleFactory {\n    /**\n     * @param {Object} utils\n     * @param {Object} formatters\n     *\n     * @constructor\n     */\n    constructor(utils, formatters) {\n        this.utils = utils;\n        this.formatters = formatters;\n    }\n\n    /**\n     * Returns an object of type Personal\n     *\n     * @method createPersonal\n     *\n     * @param {AbstractProviderAdapter} provider\n     * @param {ProvidersModuleFactory} providersModuleFactory\n     * @param {Object} providers\n     * @param {MethodController} methodController\n     * @param {Network} net\n     * @param {Object} options\n     *\n     * @returns {Personal}\n     */\n    createPersonal(provider, providersModuleFactory, providers, methodController, net, options) {\n        return new Personal(\n            provider,\n            providersModuleFactory,\n            providers,\n            methodController,\n            this.createMethodModelFactory(),\n            net,\n            this.utils,\n            this.formatters,\n            options\n        );\n    }\n\n    /**\n     * Returns an object of type MethodModelFactory\n     *\n     * @method createMethodModelFactory\n     *\n     * @returns {MethodModelFactory}\n     */\n    createMethodModelFactory() {\n        return new MethodModelFactory(this.utils, this.formatters);\n    }\n}\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @author Samuel Furter <samuel@ethereum.org>\n * @date 2018\n */\n\nimport {MethodController} from 'web3-core-method';\nimport {Network} from 'web3-net';\nimport {providers, ProvidersModuleFactory} from 'web3-providers';\nimport * as Utils from 'web3-utils';\nimport {formatters} from 'web3-core-helpers';\nimport PersonalModuleFactory from './factories/PersonalModuleFactory';\n\n/**\n * Returns the Personal object\n *\n * @method Personal\n *\n * @param {AbstractProviderAdapter|EthereumProvider} provider\n * @param {Object} options\n *\n * @returns {Personal}\n */\nexport const Personal = (provider, options) => {\n    return new PersonalModuleFactory(Utils, formatters).createPersonalModule(\n        provider,\n        new ProvidersModuleFactory(),\n        providers,\n        new MethodController(),\n        new Network(provider, options),\n        options\n    );\n};\n"],"names":["Personal","AbstractWeb3Module","constructor","provider","providersModuleFactory","providers","methodController","methodModelFactory","net","utils","formatters","options","setProvider","defaultGasPrice","value","defaultGas","transactionBlockTimeout","transactionConfirmationBlocks","transactionPollingTimeout","defaultAccount","defaultBlock","MethodModelFactory","AbstractMethodModelFactory","getAccounts","GetAccountsMethodModel","newAccount","NewAccountMethodModel","unlockAccount","UnlockAccountMethodModel","lockAccount","LockAccountMethodModel","importRawKey","ImportRawKeyMethodModel","sendTransaction","PersonalSendTransactionMethodModel","signTransaction","PersonalSignTransactionMethodModel","sign","PersonalSignMethodModel","ecRecover","EcRecoverMethodModel","PersonalModuleFactory","createPersonal","createMethodModelFactory","Utils","createPersonalModule","ProvidersModuleFactory","MethodController","Network"],"mappings":"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"}